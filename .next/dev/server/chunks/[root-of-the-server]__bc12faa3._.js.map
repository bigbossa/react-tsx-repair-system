{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/lib/db.ts"],"sourcesContent":["import { Pool } from 'pg'\r\n\r\n// User Login Database (useryc)\r\nconsole.log('User Database Configuration:', {\r\n  host: process.env.DBLG_HOST,\r\n  port: process.env.DBLG_PORT,\r\n  database: process.env.DBLG_NAME,\r\n  user: process.env.DBLG_USER,\r\n  passwordSet: !!process.env.DBLG_PASSWORD\r\n})\r\n\r\nconst poolLogin = new Pool({\r\n  host: process.env.DBLG_HOST,\r\n  port: parseInt(process.env.DBLG_PORT || '5432'),\r\n  database: process.env.DBLG_NAME,\r\n  user: process.env.DBLG_USER,\r\n  password: process.env.DBLG_PASSWORD,\r\n  connectionTimeoutMillis: 10000,\r\n  idleTimeoutMillis: 30000,\r\n  max: 10,\r\n})\r\n\r\n// Repair Request Database (RepairRequest)\r\nconsole.log('Repair Database Configuration:', {\r\n  host: process.env.DBRE_HOST,\r\n  port: process.env.DBRE_PORT,\r\n  database: process.env.DBRE_NAME,\r\n  user: process.env.DBRE_USER,\r\n  passwordSet: !!process.env.DBRE_PASSWORD\r\n})\r\n\r\nconst poolRepair = new Pool({\r\n  host: process.env.DBRE_HOST,\r\n  port: parseInt(process.env.DBRE_PORT || '5432'),\r\n  database: process.env.DBRE_NAME,\r\n  user: process.env.DBRE_USER,\r\n  password: process.env.DBRE_PASSWORD,\r\n  connectionTimeoutMillis: 10000,\r\n  idleTimeoutMillis: 30000,\r\n  max: 10,\r\n})\r\n\r\n// Test connections on startup\r\npoolLogin.on('connect', () => {\r\n  console.log('User Database connected successfully')\r\n})\r\n\r\npoolLogin.on('error', (err) => {\r\n  console.error('Unexpected user database error:', err)\r\n})\r\n\r\npoolRepair.on('connect', () => {\r\n  console.log('Repair Database connected successfully')\r\n})\r\n\r\npoolRepair.on('error', (err) => {\r\n  console.error('Unexpected repair database error:', err)\r\n})\r\n\r\nexport async function query(text: string, params?: any[]) {\r\n  const start = Date.now()\r\n  try {\r\n    const res = await poolLogin.query(text, params)\r\n    const duration = Date.now() - start\r\n    console.log('Query executed successfully', { duration, rows: res.rowCount })\r\n    return res\r\n  } catch (error) {\r\n    console.error('Database query error:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport async function queryRepair(text: string, params?: any[]) {\r\n  const start = Date.now()\r\n  try {\r\n    const res = await poolRepair.query(text, params)\r\n    const duration = Date.now() - start\r\n    console.log('Repair DB Query executed successfully', { duration, rows: res.rowCount })\r\n    return res\r\n  } catch (error) {\r\n    console.error('Repair database query error:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport { poolLogin as default, poolRepair }\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;AAEA,+BAA+B;AAC/B,QAAQ,GAAG,CAAC,gCAAgC;IAC1C,IAAI;IACJ,IAAI;IACJ,QAAQ;IACR,IAAI;IACJ,aAAa,CAAC;AAChB;AAEA,MAAM,YAAY,IAAI,4GAAI,CAAC;IACzB,IAAI;IACJ,MAAM,SAAS,4CAAyB;IACxC,QAAQ;IACR,IAAI;IACJ,QAAQ;IACR,yBAAyB;IACzB,mBAAmB;IACnB,KAAK;AACP;AAEA,0CAA0C;AAC1C,QAAQ,GAAG,CAAC,kCAAkC;IAC5C,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,UAAU,QAAQ,GAAG,CAAC,SAAS;IAC/B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,aAAa,CAAC,CAAC,QAAQ,GAAG,CAAC,aAAa;AAC1C;AAEA,MAAM,aAAa,IAAI,4GAAI,CAAC;IAC1B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,MAAM,SAAS,QAAQ,GAAG,CAAC,SAAS,IAAI;IACxC,UAAU,QAAQ,GAAG,CAAC,SAAS;IAC/B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,UAAU,QAAQ,GAAG,CAAC,aAAa;IACnC,yBAAyB;IACzB,mBAAmB;IACnB,KAAK;AACP;AAEA,8BAA8B;AAC9B,UAAU,EAAE,CAAC,WAAW;IACtB,QAAQ,GAAG,CAAC;AACd;AAEA,UAAU,EAAE,CAAC,SAAS,CAAC;IACrB,QAAQ,KAAK,CAAC,mCAAmC;AACnD;AAEA,WAAW,EAAE,CAAC,WAAW;IACvB,QAAQ,GAAG,CAAC;AACd;AAEA,WAAW,EAAE,CAAC,SAAS,CAAC;IACtB,QAAQ,KAAK,CAAC,qCAAqC;AACrD;AAEO,eAAe,MAAM,IAAY,EAAE,MAAc;IACtD,MAAM,QAAQ,KAAK,GAAG;IACtB,IAAI;QACF,MAAM,MAAM,MAAM,UAAU,KAAK,CAAC,MAAM;QACxC,MAAM,WAAW,KAAK,GAAG,KAAK;QAC9B,QAAQ,GAAG,CAAC,+BAA+B;YAAE;YAAU,MAAM,IAAI,QAAQ;QAAC;QAC1E,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM;IACR;AACF;AAEO,eAAe,YAAY,IAAY,EAAE,MAAc;IAC5D,MAAM,QAAQ,KAAK,GAAG;IACtB,IAAI;QACF,MAAM,MAAM,MAAM,WAAW,KAAK,CAAC,MAAM;QACzC,MAAM,WAAW,KAAK,GAAG,KAAK;QAC9B,QAAQ,GAAG,CAAC,yCAAyC;YAAE;YAAU,MAAM,IAAI,QAAQ;QAAC;QACpF,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM;IACR;AACF"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/app/api/maintenance-records/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { queryRepair } from '@/lib/db'\r\nimport crypto from 'crypto'\r\n\r\n// GET - ดึงข้อมูล maintenance records\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const { searchParams } = new URL(request.url)\r\n    const id = searchParams.get('id')\r\n    const assetCode = searchParams.get('asset_code')\r\n    const company = searchParams.get('company')\r\n    const site = searchParams.get('site')\r\n    const department = searchParams.get('department')\r\n    const userName = searchParams.get('user_name')\r\n    const limit = searchParams.get('limit') || '100'\r\n\r\n    // JOIN กับ maintenance_feedback เพื่อดูว่ามี feedback แล้วหรือยัง\r\n    let query = `\r\n      SELECT \r\n        mr.*,\r\n        mf.id as feedback_id,\r\n        mf.satisfaction_level,\r\n        mf.submitted_at as feedback_submitted_at\r\n      FROM maintenance_records mr\r\n      LEFT JOIN maintenance_feedback mf ON mr.id = mf.maintenance_record_id\r\n      WHERE 1=1\r\n    `\r\n    const params: any[] = []\r\n    let paramIndex = 1\r\n\r\n    if (id) {\r\n      query += ` AND mr.id = $${paramIndex}`\r\n      params.push(id)\r\n      paramIndex++\r\n    }\r\n\r\n    if (assetCode) {\r\n      query += ` AND mr.asset_code = $${paramIndex}`\r\n      params.push(assetCode)\r\n      paramIndex++\r\n    }\r\n\r\n    if (company) {\r\n      query += ` AND mr.company = $${paramIndex}`\r\n      params.push(company)\r\n      paramIndex++\r\n    }\r\n\r\n    if (site) {\r\n      query += ` AND mr.site = $${paramIndex}`\r\n      params.push(site)\r\n      paramIndex++\r\n    }\r\n\r\n    if (department) {\r\n      query += ` AND mr.department = $${paramIndex}`\r\n      params.push(department)\r\n      paramIndex++\r\n    }\r\n\r\n    if (userName) {\r\n      query += ` AND mr.user_name = $${paramIndex}`\r\n      params.push(userName)\r\n      paramIndex++\r\n    }\r\n\r\n    query += ` ORDER BY mr.checked_at DESC LIMIT $${paramIndex}`\r\n    params.push(limit)\r\n\r\n    console.log('Executing maintenance records query:', { query, params })\r\n    const result = await queryRepair(query, params)\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      data: result.rows,\r\n      count: result.rows.length\r\n    })\r\n\r\n  } catch (error: any) {\r\n    console.error('Error fetching maintenance records:', error)\r\n    console.error('Error details:', {\r\n      message: error.message,\r\n      code: error.code,\r\n      detail: error.detail,\r\n      stack: error.stack\r\n    })\r\n    return NextResponse.json(\r\n      { \r\n        success: false, \r\n        error: 'เกิดข้อผิดพลาดในการดึงข้อมูล',\r\n        details: error.message,\r\n        code: error.code\r\n      },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n// POST - บันทึก maintenance record และส่งแบบประเมินความพึงพอใจ\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const body = await request.json()\r\n    const {\r\n      asset_id,\r\n      asset_code,\r\n      device_name,\r\n      category,\r\n      company,\r\n      site,\r\n      department,\r\n      user_name,\r\n      user_contact,\r\n      checklist,\r\n      remarks,\r\n      checked_by\r\n    } = body\r\n\r\n    console.log('Received maintenance record data:', {\r\n      asset_id,\r\n      asset_code,\r\n      device_name,\r\n      category,\r\n      company,\r\n      site,\r\n      department,\r\n      user_name,\r\n      checked_by\r\n    })\r\n\r\n    // ตรวจสอบข้อมูลที่จำเป็น\r\n    if (!asset_code || !checklist || !checked_by) {\r\n      return NextResponse.json(\r\n        { success: false, error: 'กรุณากรอกข้อมูลให้ครบถ้วน' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // สร้าง feedback token สำหรับความปลอดภัย\r\n    const feedbackToken = crypto.randomBytes(32).toString('hex')\r\n\r\n    // บันทึกข้อมูลลงตาราง maintenance_records\r\n    const insertQuery = `\r\n      INSERT INTO maintenance_records (\r\n        asset_id, asset_code, device_name, category, company, site, department,\r\n        user_name, user_contact, checklist, remarks, checked_by, checked_at, \r\n        feedback_token, feedback_sent\r\n      ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, NOW(), $13, false)\r\n      RETURNING *\r\n    `\r\n\r\n    const values = [\r\n      asset_id || null,\r\n      asset_code,\r\n      device_name || '-',\r\n      category || '-',\r\n      company || '-',\r\n      site || '-',\r\n      department || '-',\r\n      user_name || '-',\r\n      user_contact || null,\r\n      JSON.stringify(checklist),\r\n      remarks || '',\r\n      checked_by,\r\n      feedbackToken\r\n    ]\r\n\r\n    const result = await queryRepair(insertQuery, values)\r\n    const maintenanceRecord = result.rows[0]\r\n\r\n    // สร้าง feedback URL สำหรับแสดงในหน้าโปรแกรม\r\n    const feedbackUrl = `/maintenance-feedback?token=${feedbackToken}&id=${maintenanceRecord.id}`\r\n    const fullFeedbackUrl = `${process.env.NEXT_PUBLIC_BASE_URL || 'http://localhost:3000'}${feedbackUrl}`\r\n\r\n    console.log('✓ Maintenance record created, feedback URL ready for user')\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'บันทึก Maintenance Record สำเร็จ',\r\n      data: maintenanceRecord,\r\n      feedbackUrl: feedbackUrl,\r\n      fullFeedbackUrl: fullFeedbackUrl\r\n    }, { status: 201 })\r\n\r\n  } catch (error: any) {\r\n    console.error('Error creating maintenance record:', error)\r\n    console.error('Error details:', {\r\n      message: error.message,\r\n      code: error.code,\r\n      detail: error.detail,\r\n      stack: error.stack\r\n    })\r\n    return NextResponse.json(\r\n      { \r\n        success: false, \r\n        error: 'เกิดข้อผิดพลาดในการบันทึกข้อมูล',\r\n        details: error.message,\r\n        code: error.code\r\n      },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n// PUT - แก้ไขข้อมูล maintenance record\r\nexport async function PUT(request: NextRequest) {\r\n  try {\r\n    const body = await request.json()\r\n    const { id, checklist, remarks } = body\r\n\r\n    if (!id) {\r\n      return NextResponse.json(\r\n        { success: false, error: 'ไม่พบ ID' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    const query = `\r\n      UPDATE maintenance_records \r\n      SET checklist = $1, remarks = $2, updated_at = NOW()\r\n      WHERE id = $3\r\n      RETURNING *\r\n    `\r\n\r\n    const values = [\r\n      JSON.stringify(checklist),\r\n      remarks || '',\r\n      id\r\n    ]\r\n\r\n    const result = await queryRepair(query, values)\r\n\r\n    if (result.rows.length === 0) {\r\n      return NextResponse.json(\r\n        { success: false, error: 'ไม่พบข้อมูลที่ต้องการแก้ไข' },\r\n        { status: 404 }\r\n      )\r\n    }\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'แก้ไขข้อมูลสำเร็จ',\r\n      data: result.rows[0]\r\n    })\r\n\r\n  } catch (error) {\r\n    console.error('Error updating maintenance record:', error)\r\n    return NextResponse.json(\r\n      { success: false, error: 'เกิดข้อผิดพลาดในการแก้ไขข้อมูล' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n// DELETE - ลบข้อมูล maintenance record\r\nexport async function DELETE(request: NextRequest) {\r\n  try {\r\n    const { searchParams } = new URL(request.url)\r\n    const id = searchParams.get('id')\r\n\r\n    if (!id) {\r\n      return NextResponse.json(\r\n        { success: false, error: 'ไม่พบ ID' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    const query = 'DELETE FROM maintenance_records WHERE id = $1 RETURNING *'\r\n    const result = await queryRepair(query, [id])\r\n\r\n    if (result.rows.length === 0) {\r\n      return NextResponse.json(\r\n        { success: false, error: 'ไม่พบข้อมูลที่ต้องการลบ' },\r\n        { status: 404 }\r\n      )\r\n    }\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'ลบข้อมูลสำเร็จ'\r\n    })\r\n\r\n  } catch (error) {\r\n    console.error('Error deleting maintenance record:', error)\r\n    return NextResponse.json(\r\n      { success: false, error: 'เกิดข้อผิดพลาดในการลบข้อมูล' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}