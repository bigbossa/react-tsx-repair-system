{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Computer/Desktop/pm2_Suacess_Mark1/app/react-tsx-repair-system/lib/db.ts"],"sourcesContent":["import { Pool } from 'pg'\r\n\r\n// User Login Database (useryc)\r\nconsole.log('User Database Configuration:', {\r\n  host: process.env.DBLG_HOST,\r\n  port: process.env.DBLG_PORT,\r\n  database: process.env.DBLG_NAME,\r\n  user: process.env.DBLG_USER,\r\n  passwordSet: !!process.env.DBLG_PASSWORD\r\n})\r\n\r\nconst poolLogin = new Pool({\r\n  host: process.env.DBLG_HOST,\r\n  port: parseInt(process.env.DBLG_PORT || '5432'),\r\n  database: process.env.DBLG_NAME,\r\n  user: process.env.DBLG_USER,\r\n  password: process.env.DBLG_PASSWORD,\r\n  connectionTimeoutMillis: 10000,\r\n  idleTimeoutMillis: 30000,\r\n  max: 10,\r\n})\r\n\r\n// Repair Request Database (RepairRequest)\r\nconsole.log('Repair Database Configuration:', {\r\n  host: process.env.DBRE_HOST,\r\n  port: process.env.DBRE_PORT,\r\n  database: process.env.DBRE_NAME,\r\n  user: process.env.DBRE_USER,\r\n  passwordSet: !!process.env.DBRE_PASSWORD\r\n})\r\n\r\nconst poolRepair = new Pool({\r\n  host: process.env.DBRE_HOST,\r\n  port: parseInt(process.env.DBRE_PORT || '5432'),\r\n  database: process.env.DBRE_NAME,\r\n  user: process.env.DBRE_USER,\r\n  password: process.env.DBRE_PASSWORD,\r\n  connectionTimeoutMillis: 10000,\r\n  idleTimeoutMillis: 30000,\r\n  max: 10,\r\n})\r\n\r\n// Test connections on startup\r\npoolLogin.on('connect', () => {\r\n  console.log('User Database connected successfully')\r\n})\r\n\r\npoolLogin.on('error', (err) => {\r\n  console.error('Unexpected user database error:', err)\r\n})\r\n\r\npoolRepair.on('connect', () => {\r\n  console.log('Repair Database connected successfully')\r\n})\r\n\r\npoolRepair.on('error', (err) => {\r\n  console.error('Unexpected repair database error:', err)\r\n})\r\n\r\nexport async function query(text: string, params?: any[]) {\r\n  const start = Date.now()\r\n  try {\r\n    const res = await poolLogin.query(text, params)\r\n    const duration = Date.now() - start\r\n    console.log('Query executed successfully', { duration, rows: res.rowCount })\r\n    return res\r\n  } catch (error) {\r\n    console.error('Database query error:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport async function queryRepair(text: string, params?: any[]) {\r\n  const start = Date.now()\r\n  try {\r\n    const res = await poolRepair.query(text, params)\r\n    const duration = Date.now() - start\r\n    console.log('Repair DB Query executed successfully', { duration, rows: res.rowCount })\r\n    return res\r\n  } catch (error) {\r\n    console.error('Repair database query error:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\nexport { poolLogin as default, poolRepair }\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;AAEA,+BAA+B;AAC/B,QAAQ,GAAG,CAAC,gCAAgC;IAC1C,IAAI;IACJ,IAAI;IACJ,QAAQ;IACR,IAAI;IACJ,aAAa,CAAC;AAChB;AAEA,MAAM,YAAY,IAAI,4GAAI,CAAC;IACzB,IAAI;IACJ,MAAM,SAAS,4CAAyB;IACxC,QAAQ;IACR,IAAI;IACJ,QAAQ;IACR,yBAAyB;IACzB,mBAAmB;IACnB,KAAK;AACP;AAEA,0CAA0C;AAC1C,QAAQ,GAAG,CAAC,kCAAkC;IAC5C,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,UAAU,QAAQ,GAAG,CAAC,SAAS;IAC/B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,aAAa,CAAC,CAAC,QAAQ,GAAG,CAAC,aAAa;AAC1C;AAEA,MAAM,aAAa,IAAI,4GAAI,CAAC;IAC1B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,MAAM,SAAS,QAAQ,GAAG,CAAC,SAAS,IAAI;IACxC,UAAU,QAAQ,GAAG,CAAC,SAAS;IAC/B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,UAAU,QAAQ,GAAG,CAAC,aAAa;IACnC,yBAAyB;IACzB,mBAAmB;IACnB,KAAK;AACP;AAEA,8BAA8B;AAC9B,UAAU,EAAE,CAAC,WAAW;IACtB,QAAQ,GAAG,CAAC;AACd;AAEA,UAAU,EAAE,CAAC,SAAS,CAAC;IACrB,QAAQ,KAAK,CAAC,mCAAmC;AACnD;AAEA,WAAW,EAAE,CAAC,WAAW;IACvB,QAAQ,GAAG,CAAC;AACd;AAEA,WAAW,EAAE,CAAC,SAAS,CAAC;IACtB,QAAQ,KAAK,CAAC,qCAAqC;AACrD;AAEO,eAAe,MAAM,IAAY,EAAE,MAAc;IACtD,MAAM,QAAQ,KAAK,GAAG;IACtB,IAAI;QACF,MAAM,MAAM,MAAM,UAAU,KAAK,CAAC,MAAM;QACxC,MAAM,WAAW,KAAK,GAAG,KAAK;QAC9B,QAAQ,GAAG,CAAC,+BAA+B;YAAE;YAAU,MAAM,IAAI,QAAQ;QAAC;QAC1E,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM;IACR;AACF;AAEO,eAAe,YAAY,IAAY,EAAE,MAAc;IAC5D,MAAM,QAAQ,KAAK,GAAG;IACtB,IAAI;QACF,MAAM,MAAM,MAAM,WAAW,KAAK,CAAC,MAAM;QACzC,MAAM,WAAW,KAAK,GAAG,KAAK;QAC9B,QAAQ,GAAG,CAAC,yCAAyC;YAAE;YAAU,MAAM,IAAI,QAAQ;QAAC;QACpF,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM;IACR;AACF"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Computer/Desktop/pm2_Suacess_Mark1/app/react-tsx-repair-system/app/api/assets/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { queryRepair } from '@/lib/db'\r\n\r\n// POST /api/assets - เพิ่มข้อมูล asset ใหม่\r\nexport async function POST(request: NextRequest) {\r\n  let body: any = {}\r\n  // keep asset_code accessible in catch\r\n  let finalAssetCode: string | null = null\r\n  try {\r\n    body = await request.json()\r\n    \r\n    const {\r\n      asset_code, user_id, user_name, company, site, department, device_name,\r\n      brand, cpu, harddisk, ram, ip_address,\r\n      mac_address, serial_number, number, licenseos, licensems,\r\n      license1, license2, license3, license4, category, cost, purchase_date, ref_devicename,\r\n      // Support legacy field names\r\n      licenseOS, licenseMS\r\n    } = body\r\n\r\n    // Use lowercase field names, fallback to legacy camelCase if provided\r\n    const finalLicenseos = licenseos || licenseOS\r\n    const finalLicensems = licensems || licenseMS\r\n\r\n    // Basic validation (ไม่ตรวจสอบซ้ำ)\r\n    // ยอมรับทุกค่า ไม่บังคับให้มี device_name หรือ site\r\n\r\n    const query = `\r\n      INSERT INTO public.\"Assets\" (\r\n        asset_code, user_id, user_name, company, site, department, device_name,\r\n        brand, cpu, harddisk, ram, ip_address,\r\n        mac_address, serial_number, number, licenseos, licensems,\r\n        license1, license2, license3, license4, category, cost, purchase_date, ref_devicename\r\n      ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25)\r\n      RETURNING *\r\n    `\r\n\r\n    // Convert cost to number if provided, otherwise null\r\n    let costValue: number | null = null\r\n    if (cost !== undefined && cost !== null && cost !== '') {\r\n      const parsed = typeof cost === 'string' \r\n        ? parseFloat(cost.replace(/,/g, '')) \r\n        : typeof cost === 'number' \r\n          ? cost \r\n          : null\r\n      if (!isNaN(parsed as number) && parsed !== null) {\r\n        costValue = parsed as number\r\n      }\r\n    }\r\n\r\n    // Validate and format purchase_date\r\n    let purchaseDateValue: string | null = null\r\n    if (purchase_date && purchase_date !== '' && purchase_date !== 'null') {\r\n      // Try to parse the date and format it as YYYY-MM-DD\r\n      try {\r\n        const date = new Date(purchase_date)\r\n        if (!isNaN(date.getTime())) {\r\n          purchaseDateValue = date.toISOString().split('T')[0]\r\n        }\r\n      } catch (e) {\r\n        // If date parsing fails, try to use as-is if it looks like YYYY-MM-DD\r\n        if (typeof purchase_date === 'string' && /^\\d{4}-\\d{2}-\\d{2}/.test(purchase_date)) {\r\n          purchaseDateValue = purchase_date.split('T')[0]\r\n        }\r\n      }\r\n    }\r\n\r\n    // เติม \"-\" ในช่องที่ว่าง\r\n    const fillEmpty = (val: any) => (val && String(val).trim() !== '') ? String(val).trim() : '-'\r\n    \r\n    // asset_code ถ้าว่างหรือเป็น \"-\" ให้เป็น null\r\n    finalAssetCode = (asset_code && asset_code.trim() !== '' && asset_code.trim() !== '-')\r\n      ? asset_code.trim()\r\n      : null\r\n\r\n    const values = [\r\n      finalAssetCode,\r\n      fillEmpty(user_id),\r\n      fillEmpty(user_name),\r\n      fillEmpty(company),\r\n      fillEmpty(site),\r\n      fillEmpty(department),\r\n      fillEmpty(device_name),\r\n      fillEmpty(brand),\r\n      fillEmpty(cpu),\r\n      fillEmpty(harddisk),\r\n      fillEmpty(ram),\r\n      fillEmpty(ip_address),\r\n      fillEmpty(mac_address),\r\n      fillEmpty(serial_number),\r\n      fillEmpty(number),\r\n      fillEmpty(finalLicenseos),\r\n      fillEmpty(finalLicensems),\r\n      fillEmpty(license1),\r\n      fillEmpty(license2),\r\n      fillEmpty(license3),\r\n      fillEmpty(license4),\r\n      fillEmpty(category),\r\n      costValue,\r\n      purchaseDateValue,\r\n      fillEmpty(ref_devicename)\r\n    ]\r\n\r\n    const result = await queryRepair(query, values)\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      data: result.rows[0],\r\n      message: 'Asset added successfully'\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Error adding asset:', error)\r\n    \r\n    // Check for unique constraint violation\r\n    if (error?.code === '23505' || error?.message?.includes('unique') || error?.message?.includes('duplicate')) {\r\n      // If it's device_name constraint violation, show error\r\n      if (error?.message?.includes('device_name') || error?.detail?.includes('device_name') || error?.constraint?.includes('device_name')) {\r\n        const deviceNameMatch = error?.message?.match(/device_name[^\"]*\"([^\"]+)\"/i) || \r\n                               error?.detail?.match(/\\(device_name\\)=\\(([^)]+)\\)/i)\r\n        const duplicateValue = deviceNameMatch ? deviceNameMatch[1] : (body.device_name || 'Unknown')\r\n        \r\n        return NextResponse.json(\r\n          { \r\n            success: false, \r\n            error: `Device name \"${duplicateValue}\" มีอยู่ในระบบแล้ว`\r\n          },\r\n          { status: 409 }\r\n        )\r\n      }\r\n\r\n      // If it's asset_code constraint violation, skip silently (ข้ามโดยไม่แสดง error)\r\n      if ((error?.message?.includes('asset_code') || error?.detail?.includes('asset_code') || error?.constraint?.includes('asset_code'))) {\r\n        console.log('ข้าม asset_code ซ้ำ - ถือว่าสำเร็จ')\r\n        return NextResponse.json({\r\n          success: true,\r\n          message: 'Asset skipped (duplicate asset_code)',\r\n          skipped: true\r\n        })\r\n      }\r\n      \r\n      // For other unique constraint violations, check if it's device_name related\r\n      if (body.device_name && body.device_name.trim() !== '' && body.device_name.trim() !== '-') {\r\n        return NextResponse.json(\r\n          { \r\n            success: false, \r\n            error: `Device name \"${body.device_name.trim()}\" มีอยู่ในระบบแล้ว`\r\n          },\r\n          { status: 409 }\r\n        )\r\n      }\r\n\r\n      // Other unique violations - skip silently\r\n      console.log('ข้าม unique constraint error อื่นๆ')\r\n      return NextResponse.json({\r\n        success: true,\r\n        message: 'Asset skipped (duplicate)',\r\n        skipped: true\r\n      })\r\n    }\r\n\r\n    // Check for other database constraint violations\r\n    if (error?.code && error.code.startsWith('23')) {\r\n      return NextResponse.json(\r\n        { \r\n          success: false, \r\n          error: 'ข้อมูลไม่ถูกต้องตามที่กำหนด',\r\n          details: error.message || 'Database constraint violation'\r\n        },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Generic error\r\n    return NextResponse.json(\r\n      { \r\n        success: false, \r\n        error: 'Failed to add asset',\r\n        details: error instanceof Error ? error.message : 'Unknown error'\r\n      },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n// GET /api/assets - ดึงข้อมูล assets พึงหมด\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const { searchParams } = new URL(request.url)\r\n    const distinct = searchParams.get('distinct')\r\n    const search = searchParams.get('search')\r\n    const company = searchParams.get('company')\r\n    const department = searchParams.get('department')\r\n    const site = searchParams.get('site')\r\n    const userId = searchParams.get('user_id')\r\n    const userName = searchParams.get('user_name')\r\n    const page = parseInt(searchParams.get('page') || '1')\r\n    const pageSize = parseInt(searchParams.get('pageSize') || '50')\r\n\r\n    // Return distinct departments list when requested\r\n    if (distinct === 'department') {\r\n      const distinctQuery = `\r\n        SELECT DISTINCT department \r\n        FROM public.\"Assets\"\r\n        WHERE department IS NOT NULL AND department <> ''\r\n        ORDER BY department\r\n      `\r\n      const result = await queryRepair(distinctQuery)\r\n      return NextResponse.json({\r\n        success: true,\r\n        data: result.rows.map((row: any) => row.department)\r\n      })\r\n    }\r\n\r\n    let query = `\r\n      SELECT \r\n        id, asset_code, user_id, user_name, company, site, department, device_name,\r\n        brand, cpu, harddisk, ram, ip_address,\r\n        mac_address, serial_number, number, \r\n        licenseos, licensems, \r\n        license1, license2, license3, license4,\r\n        category, cost, purchase_date, ref_devicename,\r\n        created_at, updated_at\r\n      FROM public.\"Assets\"\r\n      WHERE 1=1\r\n    `\r\n    \r\n    const params: any[] = []\r\n    let paramCount = 1\r\n\r\n    // Filter by user_id or user_name (for viewing user's assets)\r\n    if (userId || userName) {\r\n      query += ` AND (`\r\n      const conditions: string[] = []\r\n      \r\n      if (userId) {\r\n        conditions.push(`user_id = $${paramCount}`)\r\n        params.push(userId)\r\n        paramCount++\r\n      }\r\n      \r\n      if (userName) {\r\n        conditions.push(`user_name ILIKE $${paramCount}`)\r\n        params.push(`%${userName}%`)\r\n        paramCount++\r\n      }\r\n      \r\n      query += conditions.join(' OR ')\r\n      query += `)`\r\n    }\r\n\r\n    if (search) {\r\n      query += ` AND (\r\n        asset_code ILIKE $${paramCount} OR\r\n        user_name ILIKE $${paramCount} OR\r\n        device_name ILIKE $${paramCount} OR\r\n        brand ILIKE $${paramCount} OR\r\n        serial_number ILIKE $${paramCount}\r\n      )`\r\n      params.push(`%${search}%`)\r\n      paramCount++\r\n    }\r\n\r\n    if (company && company !== 'all') {\r\n      query += ` AND LOWER(company) = LOWER($${paramCount})`\r\n      params.push(company)\r\n      paramCount++\r\n    }\r\n\r\n    if (department && department !== 'all') {\r\n      query += ` AND LOWER(department) = LOWER($${paramCount})`\r\n      params.push(department)\r\n      paramCount++\r\n    }\r\n\r\n    if (site && site !== 'all') {\r\n      query += ` AND LOWER(site) = LOWER($${paramCount})`\r\n      params.push(site)\r\n      paramCount++\r\n    }\r\n\r\n    const category = searchParams.get('category')\r\n    if (category && category !== 'all') {\r\n      query += ` AND LOWER(category) = LOWER($${paramCount})`\r\n      params.push(category)\r\n      paramCount++\r\n    }\r\n\r\n    // Count total for pagination\r\n    const countQuery = query.replace(/SELECT[\\s\\S]+?FROM/, 'SELECT COUNT(*) FROM')\r\n    const countResult = await queryRepair(countQuery, params)\r\n    const total = parseInt(countResult.rows[0].count)\r\n\r\n    // Add pagination\r\n    const offset = (page - 1) * pageSize\r\n    query += ` ORDER BY asset_code LIMIT $${paramCount} OFFSET $${paramCount + 1}`\r\n    params.push(pageSize, offset)\r\n\r\n    const result = await queryRepair(query, params)\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      data: result.rows,\r\n      count: result.rows.length,\r\n      total: total,\r\n      page: page,\r\n      pageSize: pageSize,\r\n      totalPages: Math.ceil(total / pageSize)\r\n    })\r\n  } catch (error) {\r\n    console.error('Error fetching assets:', error)\r\n    return NextResponse.json(\r\n      { \r\n        success: false, \r\n        error: 'Failed to fetch assets',\r\n        details: error instanceof Error ? error.message : 'Unknown error'\r\n      },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}