{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ui/table.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn('w-full caption-bottom text-sm', className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn('[&_tr]:border-b', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn('[&_tr:last-child]:border-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<'caption'>) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,6LAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,6LAAC;YACC,aAAU;YACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ui/tabs.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,gLAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,+KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,8KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6LAAC,4MAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,oLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 718, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,qHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,aAAU;YACV,WAAW,IAAA,qHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,wNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6LAAC,uLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,yLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 975, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ui/radio-group.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as RadioGroupPrimitive from '@radix-ui/react-radio-group'\nimport { CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction RadioGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {\n  return (\n    <RadioGroupPrimitive.Root\n      data-slot=\"radio-group\"\n      className={cn('grid gap-3', className)}\n      {...props}\n    />\n  )\n}\n\nfunction RadioGroupItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {\n  return (\n    <RadioGroupPrimitive.Item\n      data-slot=\"radio-group-item\"\n      className={cn(\n        'border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator\n        data-slot=\"radio-group-indicator\"\n        className=\"relative flex items-center justify-center\"\n      >\n        <CircleIcon className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n}\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,qLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,qLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0XACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,0LAA6B;YAC5B,aAAU;YACV,WAAU;sBAEV,cAAA,6LAAC,2NAAU;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI9B;MArBS"}},
    {"offset": {"line": 1040, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 1073, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/edit-ticket-dialog.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\"\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport Swal from \"sweetalert2\"\r\n\r\ninterface EditTicketDialogProps {\r\n  ticket: any\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  onSuccess: () => void\r\n}\r\n\r\nexport function EditTicketDialog({ ticket, isOpen, onClose, onSuccess }: EditTicketDialogProps) {\r\n  // Set finish_repair to today's date in Thailand timezone\r\n  const today = new Date().toLocaleDateString('sv-SE', { timeZone: 'Asia/Bangkok' })\r\n  \r\n  const [formData, setFormData] = useState({\r\n    Status: ticket.Status ?? 0,\r\n    start_repair: ticket.start_repair || \"\",\r\n    finish_repair: today,\r\n    cost: ticket.cost || \"\",\r\n    total_date: ticket.total_date || \"\",\r\n    Rep_info: ticket.Rep_info || \"\",\r\n    type_of_work: ticket.type_of_work || \"\",\r\n    work: ticket.work || \"\",\r\n    detail_work: ticket.detail_work || \"\",\r\n  })\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [hasCost, setHasCost] = useState<string>(ticket.cost && ticket.cost !== \"0\" ? \"yes\" : \"\")\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setIsSubmitting(true)\r\n\r\n    try {\r\n      const submitData = {\r\n        Rep_info: formData.Rep_info,\r\n        cost: formData.cost.trim() || \"0\",\r\n        type_of_work: formData.type_of_work,\r\n        work: formData.work,\r\n        detail_work: formData.detail_work,\r\n        finish_repair: formData.finish_repair,\r\n        status: '4', // เปลี่ยนสถานะเป็นรอการประเมิน\r\n      }\r\n\r\n      const response = await fetch(`/api/tickets/${ticket.request_id}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(submitData),\r\n      })\r\n\r\n      if (response.ok) {\r\n        await Swal.fire({\r\n          icon: 'success',\r\n          title: 'สำเร็จ!',\r\n          text: 'บันทึกข้อมูลเรียบร้อยแล้ว สถานะเปลี่ยนเป็น \"รอการประเมิน\"',\r\n          timer: 2000,\r\n          showConfirmButton: false\r\n        })\r\n        onSuccess()\r\n        onClose()\r\n      } else {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        console.error('API Error:', errorData)\r\n        await Swal.fire({\r\n          icon: 'error',\r\n          title: 'เกิดข้อผิดพลาด',\r\n          text: errorData.error || 'ไม่สามารถบันทึกข้อมูลได้',\r\n          confirmButtonText: 'ตกลง'\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.error('Submit Error:', error)\r\n      await Swal.fire({\r\n        icon: 'error',\r\n        title: 'เกิดข้อผิดพลาด',\r\n        text: 'ไม่สามารถเชื่อมต่อกับเซิร์ฟเวอร์ได้',\r\n        confirmButtonText: 'ตกลง'\r\n      })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>รายละเอียดการซ่อม - {ticket.request_id}</DialogTitle>\r\n        </DialogHeader>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {/* ชนิดของงาน */}\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">ชนิดของงาน</label>\r\n            <Input\r\n              placeholder=\"เช่น Hardware, Software, Network\"\r\n              value={formData.work}\r\n              disabled\r\n              className=\"bg-muted cursor-not-allowed\"\r\n            />\r\n          </div>\r\n          {/* ประเภทของงาน */}\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">ประเภทของงาน</label>\r\n            <Input\r\n              placeholder=\"เช่น ซ่อม, ติดตั้ง, บำรุงรักษา\"\r\n              value={formData.type_of_work}\r\n              disabled\r\n              className=\"bg-muted cursor-not-allowed\"\r\n            />\r\n          </div>\r\n\r\n          {/* รายละเอียดงาน */}\r\n          {formData.detail_work && (\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-medium\">รายละเอียดงาน</label>\r\n              <textarea\r\n                placeholder=\"รายละเอียดเพิ่มเติม\"\r\n                value={formData.detail_work}\r\n                disabled\r\n                rows={3}\r\n                className=\"w-full rounded-md border border-input bg-muted px-3 py-2 text-sm cursor-not-allowed\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* อาการ/ปัญหาที่แจ้ง */}\r\n          {ticket.Ref && (\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-medium\">อาการ/ปัญหาที่แจ้ง</label>\r\n              <textarea\r\n                placeholder=\"อาการหรือปัญหาที่ผู้ใช้แจ้งเข้ามา\"\r\n                value={ticket.Ref}\r\n                disabled \r\n                rows={3}\r\n                className=\"w-full rounded-md border border-input bg-muted px-3 py-2 text-sm cursor-not-allowed\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* รายละเอียดการซ่อม */}\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">รายละเอียดการซ่อม <span className=\"text-red-500\">*</span></label>\r\n            <textarea\r\n              placeholder=\"ระบุรายละเอียดวิธีการซ่อม อะไหล่ที่เปลี่ยน...\"\r\n              value={formData.Rep_info}\r\n              onChange={(e) => setFormData({ ...formData, Rep_info: e.target.value })}\r\n              required\r\n              rows={6}\r\n              className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\r\n            />\r\n          </div>\r\n\r\n          {/* วันที่ซ่อมเสร็จ */}\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">วันที่ซ่อมเสร็จ</label>\r\n            <Input\r\n              type=\"date\"\r\n              value={formData.finish_repair}\r\n              disabled\r\n              className=\"bg-muted cursor-not-allowed\"\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">วันที่ถูกกำหนดเป็นวันนี้โดยอัตโนมัติ</p>\r\n          </div>\r\n\r\n          {/* ค่าใช้จ่าย */}\r\n          <div className=\"space-y-3\">\r\n            <label className=\"text-sm font-medium\">มีค่าใช้จ่ายหรือไม่</label>\r\n            <RadioGroup\r\n              value={hasCost}\r\n              onValueChange={(value) => {\r\n                setHasCost(value)\r\n                if (value === \"no\") {\r\n                  setFormData({ ...formData, cost: \"0\" })\r\n                }\r\n              }}\r\n              className=\"flex gap-4\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <RadioGroupItem value=\"yes\" id=\"cost-yes\" />\r\n                <Label htmlFor=\"cost-yes\" className=\"cursor-pointer\">มีค่าใช้จ่าย</Label>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <RadioGroupItem value=\"no\" id=\"cost-no\" />\r\n                <Label htmlFor=\"cost-no\" className=\"cursor-pointer\">ไม่มีค่าใช้จ่าย</Label>\r\n              </div>\r\n            </RadioGroup>\r\n          </div>\r\n\r\n          {/* ช่องกรอกค่าใช้จ่าย - แสดงเฉพาะเมื่อเลือก \"มีค่าใช้จ่าย\" */}\r\n          {hasCost === \"yes\" && (\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-medium\">ค่าใช้จ่าย</label>\r\n              <Input\r\n                type=\"text\"\r\n                placeholder=\"ระบุค่าใช้จ่าย (ถ้าไม่กรอกจะเป็น 0)\"\r\n                value={formData.cost}\r\n                onChange={(e) => setFormData({ ...formData, cost: e.target.value })}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <DialogFooter>\r\n            <Button type=\"button\" variant=\"outline\" onClick={onClose} disabled={isSubmitting}>\r\n              ยกเลิก\r\n            </Button>\r\n            <Button type=\"submit\" disabled={isSubmitting}>\r\n              {isSubmitting ? \"กำลังบันทึก...\" : \"บันทึก\"}\r\n            </Button>\r\n          </DialogFooter>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1554, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/feedback-dialog.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\r\nimport Swal from \"sweetalert2\"\r\n\r\ninterface FeedbackDialogProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  requestId: string\r\n  onSuccess: () => void\r\n}\r\n\r\nexport function FeedbackDialog({ isOpen, onClose, requestId, onSuccess }: FeedbackDialogProps) {\r\n  const [rating, setRating] = useState<string>(\"\")\r\n  const [comment, setComment] = useState<string>(\"\")\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n  const ratingOptions = [\r\n    { value: \"5\", label: \"พึงพอใจมากที่สุด\" },\r\n    { value: \"4\", label: \"พึงพอใจมาก\" },\r\n    { value: \"3\", label: \"พึงพอใจปานกลาง\" },\r\n    { value: \"2\", label: \"พึงพอใจน้อย\" },\r\n    { value: \"1\", label: \"ไม่พึงพอใจ\" }\r\n  ]\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (isSubmitting) return\r\n    \r\n    if (!rating) {\r\n      await Swal.fire({\r\n        icon: 'warning',\r\n        title: 'กรุณาเลือกระดับความพึงพอใจ',\r\n        text: 'โปรดเลือกระดับความพึงพอใจก่อนส่งแบบประเมิน',\r\n        confirmButtonText: 'ตกลง',\r\n        allowOutsideClick: true,\r\n        allowEscapeKey: true\r\n      })\r\n      return\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n\r\n    try {\r\n      console.log('=== Starting feedback submission ===')\r\n      console.log('Request ID:', requestId)\r\n      console.log('Rating:', rating)\r\n      \r\n      // บันทึก feedback\r\n      const feedbackResponse = await fetch('/api/feedback', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          request_id: requestId,\r\n          form_status: rating,\r\n          form_description: comment.trim() || null\r\n        })\r\n      })\r\n\r\n      console.log('Feedback response status:', feedbackResponse.status, feedbackResponse.ok)\r\n\r\n      if (!feedbackResponse.ok) {\r\n        const errorData = await feedbackResponse.json().catch(() => ({ error: 'Unknown error' }))\r\n        console.error('Feedback error:', errorData)\r\n        \r\n        // แสดง error message ที่เป็นมิตรกับผู้ใช้\r\n        let errorMessage = 'ไม่สามารถบันทึกแบบประเมินได้'\r\n        if (errorData.error) {\r\n          errorMessage = typeof errorData.error === 'string' ? errorData.error : 'เกิดข้อผิดพลาดในการบันทึกข้อมูล'\r\n        }\r\n        throw new Error(errorMessage)\r\n      }\r\n\r\n      const feedbackResult = await feedbackResponse.json()\r\n      console.log('Feedback saved:', feedbackResult)\r\n\r\n      // เปลี่ยนสถานะเป็น \"เสร็จสิ้น\" (Status = 2) - ใช้ตัวใหญ่\r\n      console.log('=== Updating ticket status ===')\r\n      console.log('URL:', `/api/tickets/${requestId}`)\r\n      \r\n      const statusResponse = await fetch(`/api/tickets/${requestId}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ Status: 2, status: 2 })  // ส่งทั้ง 2แบบมือถือและตัวใหญ่\r\n      })\r\n\r\n      console.log('Status response:', statusResponse.status, statusResponse.ok)\r\n      \r\n      if (!statusResponse.ok) {\r\n        const errorData = await statusResponse.json().catch(() => ({ error: 'Unknown error' }))\r\n        console.error('Status update error:', errorData)\r\n        \r\n        // แสดง error message ที่เป็นมิตรกับผู้ใช้\r\n        let errorMessage = 'ไม่สามารถเปลี่ยนสถานะได้'\r\n        if (errorData.error) {\r\n          errorMessage = typeof errorData.error === 'string' ? errorData.error : 'เกิดข้อผิดพลาดในการเปลี่ยนสถานะ'\r\n        }\r\n        throw new Error(errorMessage)\r\n      }\r\n      \r\n      const statusResult = await statusResponse.json()\r\n      console.log('Status updated successfully:', statusResult)\r\n\r\n      console.log('=== All done, showing success message ===')\r\n      \r\n      // แสดง success message\r\n      await Swal.fire({\r\n        icon: 'success',\r\n        title: 'ขอบคุณสำหรับการประเมิน!',\r\n        text: 'บันทึกผลการประเมินเรียบร้อยแล้ว งานเสร็จสิ้น',\r\n        timer: 1500,\r\n        showConfirmButton: false,\r\n        allowOutsideClick: false\r\n      })\r\n      \r\n      console.log('Success message closed, reloading page...')\r\n      \r\n      // รอให้ database commit ข้อมูล แล้วรีเฟรชหน้า\r\n      setTimeout(() => {\r\n        window.location.href = window.location.href\r\n      }, 500)\r\n    } catch (error) {\r\n      console.error('Submit Error:', error)\r\n      \r\n      // แสดง error message อย่างชัดเจน\r\n      const errorMessage = error instanceof Error ? error.message : 'ไม่สามารถบันทึกข้อมูลได้'\r\n      \r\n      await Swal.fire({\r\n        icon: 'error',\r\n        title: 'เกิดข้อผิดพลาด',\r\n        text: errorMessage,\r\n        confirmButtonText: 'ตกลง',\r\n        allowOutsideClick: false,\r\n        allowEscapeKey: false\r\n      })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-lg\">\r\n        <DialogHeader>\r\n          <DialogTitle>ประเมินความพึงพอใจ</DialogTitle>\r\n        </DialogHeader>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          {/* ระดับความพึงพอใจ */}\r\n          <div className=\"space-y-3\">\r\n            <Label className=\"text-base\">\r\n              ระดับความพึงพอใจ <span className=\"text-red-500\">*</span>\r\n            </Label>\r\n            <RadioGroup value={rating} onValueChange={setRating} className=\"space-y-3\">\r\n              {ratingOptions.map((option) => (\r\n                <div key={option.value} className=\"flex items-center space-x-3 p-3 border rounded-lg hover:bg-accent cursor-pointer transition-colors\">\r\n                  <RadioGroupItem value={option.value} id={`rating-${option.value}`} />\r\n                  <Label \r\n                    htmlFor={`rating-${option.value}`} \r\n                    className=\"flex-1 cursor-pointer font-normal\"\r\n                  >\r\n                    {option.label}\r\n                  </Label>\r\n                </div>\r\n              ))}\r\n            </RadioGroup>\r\n          </div>\r\n\r\n          {/* หมายเหตุ/ข้อเสนอแนะ */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"comment\" className=\"text-base\">หมายเหตุ / ข้อเสนอแนะ</Label>\r\n            <textarea\r\n              id=\"comment\"\r\n              placeholder=\"แสดงความคิดเห็นหรือข้อเสนอแนะ (ถ้ามี)\"\r\n              value={comment}\r\n              onChange={(e) => setComment(e.target.value)}\r\n              rows={4}\r\n              className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\"\r\n            />\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button \r\n              type=\"button\" \r\n              variant=\"outline\" \r\n              onClick={onClose} \r\n              disabled={isSubmitting}\r\n            >\r\n              ยกเลิก\r\n            </Button>\r\n            <Button \r\n              type=\"submit\" \r\n              className=\"bg-green-600 hover:bg-green-700\"\r\n              disabled={isSubmitting}\r\n            >\r\n              {isSubmitting ? \"กำลังส่ง...\" : \"ส่งการประเมิน\"}\r\n            </Button>\r\n          </DialogFooter>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1879, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/components/ticket-detail.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport type { Ticket, Asset } from \"@/lib/types\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { EditTicketDialog } from \"./edit-ticket-dialog\"\nimport { FeedbackDialog } from \"./feedback-dialog\"\nimport { Pencil, Eye } from \"lucide-react\"\nimport Swal from \"sweetalert2\"\n\ninterface TicketDetailProps {\n  ticket: any\n  isAdmin?: boolean\n  onStatusChange?: (status: string) => void\n  onClose?: () => void\n  isUpdating?: boolean\n  onUpdate?: () => void\n}\n\nconst statusColors = {\n  0: \"bg-yellow-100 text-yellow-800 border-yellow-300\",\n  1: \"bg-blue-100 text-blue-800 border-blue-300\",\n  2: \"bg-green-100 text-green-800 border-green-300\",\n  3: \"bg-red-100 text-red-800 border-red-300\",\n  4: \"bg-orange-100 text-orange-800 border-orange-300\",\n}\n\nconst statusText = {\n  0: \"รอดำเนินการ\",\n  1: \"กำลังดำเนินการ\",\n  2: \"เสร็จสิ้น\",\n  3: \"ยกเลิก\",\n  4: \"รอการประเมิน\",\n}\n\nexport function TicketDetail({\n  ticket,\n  isAdmin = false,\n  onStatusChange,\n  onClose,\n  isUpdating = false,\n  onUpdate,\n}: TicketDetailProps) {\n  const [isEditOpen, setIsEditOpen] = useState(false)\n  const [assetData, setAssetData] = useState<Asset | null>(null)\n  const [isAssetDialogOpen, setIsAssetDialogOpen] = useState(false)\n  const [isLoadingAsset, setIsLoadingAsset] = useState(false)\n  const [isFeedbackDialogOpen, setIsFeedbackDialogOpen] = useState(false)\n  const [isSurveyOpen, setIsSurveyOpen] = useState(false)\n  const [surveyData, setSurveyData] = useState({\n    rating: 0,\n    comment: \"\"\n  })\n  const [isSubmittingSurvey, setIsSubmittingSurvey] = useState(false)\n  const [existingFeedback, setExistingFeedback] = useState<any>(null)\n  const [isLoadingFeedback, setIsLoadingFeedback] = useState(false)\n  const [isMediaDialogOpen, setIsMediaDialogOpen] = useState(false)\n  const status = (ticket.Status ?? 0) as 0 | 1 | 2 | 3 | 4\n\n  // ตรวจสอบว่ามีการประเมินแล้วหรือยัง\n  const checkExistingFeedback = async () => {\n    setIsLoadingFeedback(true)\n    try {\n      const response = await fetch(`/api/feedback?request_id=${ticket.request_id}`)\n      \n      if (response.ok) {\n        const data = await response.json()\n        if (data && data.length > 0) {\n          setExistingFeedback(data[0])\n        } else {\n          setExistingFeedback(null)\n        }\n      }\n    } catch (error) {\n      console.error('Failed to check feedback:', error)\n    } finally {\n      setIsLoadingFeedback(false)\n    }\n  }\n\n  // โหลดข้อมูล feedback เมื่อ component mount หรือเมื่อ ticket เปลี่ยน\n  useEffect(() => {\n    checkExistingFeedback()\n  }, [ticket.request_id])\n\n  const handleViewAsset = async () => {\n    if (!ticket.asset_id) {\n      await Swal.fire({\n        icon: 'warning',\n        title: 'ไม่พบรหัสทรัพย์สิน',\n        text: 'ไม่มีรหัสทรัพย์สินในคำขอนี้',\n        confirmButtonText: 'ตกลง'\n      })\n      return\n    }\n\n    setIsLoadingAsset(true)\n    try {\n      const response = await fetch('/api/assets')\n      if (!response.ok) throw new Error('Failed to fetch assets')\n      \n      const result = await response.json()\n      const assets: Asset[] = result.data || result\n      \n      // Find asset where device_name or asset_code matches ticket.asset_id\n      const foundAsset = assets.find(asset => \n        asset.device_name === ticket.asset_id || \n        asset.asset_code === ticket.asset_id\n      )\n      \n      if (foundAsset) {\n        setAssetData(foundAsset)\n        setIsAssetDialogOpen(true)\n      } else {\n        await Swal.fire({\n          icon: 'info',\n          title: 'ไม่พบข้อมูลทรัพย์สิน',\n          text: `ไม่พบทรัพย์สินที่มีรหัส \"${ticket.asset_id}\" ในระบบ`,\n          confirmButtonText: 'ตกลง'\n        })\n      }\n    } catch (error) {\n      console.error('Failed to fetch asset:', error)\n      await Swal.fire({\n        icon: 'error',\n        title: 'เกิดข้อผิดพลาด',\n        text: 'ไม่สามารถโหลดข้อมูลทรัพย์สินได้',\n        confirmButtonText: 'ตกลง'\n      })\n    } finally {\n      setIsLoadingAsset(false)\n    }\n  }\n\n  const handleSubmitSurvey = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (surveyData.rating === 0) {\n      await Swal.fire({\n        icon: 'warning',\n        title: 'กรุณาให้คะแนน',\n        text: 'กรุณาเลือกคะแนนความพึงพอใจ',\n        confirmButtonText: 'ตกลง'\n      })\n      return\n    }\n\n    // ถ้าให้คะแนนไม่ผ่าน (< 3) ต้องกรอกเหตุผล\n    if (surveyData.rating < 3 && (!surveyData.comment || surveyData.comment.trim() === '')) {\n      await Swal.fire({\n        icon: 'warning',\n        title: 'กรุณาระบุเหตุผล',\n        text: 'เมื่อประเมินไม่ผ่าน กรุณาระบุเหตุผลที่ไม่ผ่านการประเมิน',\n        confirmButtonText: 'ตกลง'\n      })\n      return\n    }\n\n    setIsSubmittingSurvey(true)\n    try {\n      const response = await fetch('/api/feedback', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          request_id: ticket.request_id,\n          rating: surveyData.rating,\n          comment: surveyData.comment || '',\n        }),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to submit feedback')\n      }\n\n      await Swal.fire({\n        icon: 'success',\n        title: 'ขอบคุณสำหรับการประเมิน!',\n        text: 'บันทึกความพึงพอใจเรียบร้อยแล้ว',\n        confirmButtonText: 'ตกลง',\n        timer: 2000\n      })\n\n      setIsSurveyOpen(false)\n      setSurveyData({ rating: 0, comment: \"\" })\n      // โหลดข้อมูล feedback ใหม่หลังบันทึกสำเร็จ\n      await checkExistingFeedback()\n    } catch (error) {\n      console.error('Failed to submit survey:', error)\n      await Swal.fire({\n        icon: 'error',\n        title: 'เกิดข้อผิดพลาด',\n        text: 'ไม่สามารถบันทึกข้อมูลได้',\n        confirmButtonText: 'ตกลง'\n      })\n    } finally {\n      setIsSubmittingSurvey(false)\n    }\n  }\n  \n  return (\n    <Card className=\"relative\">\n      {onClose && (\n        <Button \n          variant=\"ghost\" \n          size=\"icon\"\n          onClick={onClose}\n          className=\"absolute top-4 right-4 z-10 h-8 w-8 rounded-full hover:bg-gray-100\"\n        >\n          <span className=\"text-xl font-semibold text-gray-500 hover:text-gray-700\">✕</span>\n        </Button>\n      )}\n      <CardHeader className=\"pb-4 border-b pr-12\">\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            <CardTitle className=\"text-lg sm:text-xl font-bold break-all\">{ticket.request_id}</CardTitle>\n            <Badge variant=\"outline\" className={(ticket.form_type === 'request') ? 'bg-purple-50 text-purple-700 border-purple-300' : 'bg-blue-50 text-blue-700 border-blue-300'}>\n              {ticket.form_type === 'request' ? 'แบบเบิกอุปกรณ์' : 'แจ้งซ่อมอุปกรณ์'}\n            </Badge>\n          </div>\n          <p className=\"text-xs sm:text-sm text-muted-foreground break-all\">รหัสทรัพย์สิน: {ticket.asset_id}</p>\n          <div className=\"flex flex-wrap gap-2 pt-2\">\n            <Button \n              variant=\"outline\" \n              size=\"sm\" \n              onClick={handleViewAsset}\n              disabled={isLoadingAsset}\n              title=\"ดูข้อมูลทรัพย์สิน\"\n              className=\"text-xs sm:text-sm\"\n            >\n              <Eye className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1\" />\n              <span className=\"hidden xs:inline\">ดูข้อมูล</span>ทรัพย์สิน\n            </Button>\n            {ticket.img && (\n              <Button \n                variant=\"outline\" \n                size=\"sm\" \n                onClick={() => setIsMediaDialogOpen(true)}\n                title=\"ดูรูปภาพ/วิดีโอ\"\n                className=\"border-blue-300 text-blue-700 hover:bg-blue-50 text-xs sm:text-sm\"\n              >\n                <Eye className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1\" />\n                ดูรูป/VDO\n              </Button>\n            )}\n            {!isAdmin && status === 2 && !existingFeedback && (\n              <Button \n                variant=\"default\" \n                size=\"sm\" \n                onClick={() => setIsSurveyOpen(true)}\n                className=\"bg-green-600 hover:bg-green-700 text-xs sm:text-sm\"\n                disabled={isLoadingFeedback}\n              >\n                ⭐ <span className=\"hidden xs:inline\">ประเมิน</span>ความพึงพอใจ\n              </Button>\n            )}\n            {isAdmin && (\n              <Button variant=\"outline\" size=\"sm\" onClick={() => setIsEditOpen(true)} className=\"text-xs sm:text-sm\">\n                <Pencil className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1\" />\n                <span className=\"hidden xs:inline\">รายละเอียด</span>การซ่อม\n              </Button>\n            )}\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"pt-4 sm:pt-6 space-y-4 px-4 sm:px-6\">\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4\">\n          <div>\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase\">สถานะ</p>\n            {isAdmin && onStatusChange ? (\n              <Select value={String(status)} onValueChange={onStatusChange} disabled={isUpdating}>\n                <SelectTrigger className=\"mt-1\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"0\">รอดำเนินการ</SelectItem>\n                  <SelectItem value=\"1\">กำลังดำเนินการ</SelectItem>\n                  <SelectItem value=\"4\">รอการประเมิน</SelectItem>\n                  <SelectItem value=\"2\">เสร็จสิ้น</SelectItem>\n                  <SelectItem value=\"3\">ยกเลิก</SelectItem>\n                </SelectContent>\n              </Select>\n            ) : (\n              <Badge className={`${statusColors[status]} mt-1`}>{statusText[status]}</Badge>\n            )}\n          </div>\n\n          {/* Assessment Actions for Users */}\n          {!isAdmin && status === 4 && onStatusChange && (\n            <div className=\"col-span-1 sm:col-span-2 flex flex-col sm:flex-row gap-2\">\n              <Button \n                onClick={() => setIsFeedbackDialogOpen(true)} \n                className=\"flex-1 bg-green-600 hover:bg-green-700 text-xs sm:text-sm\"\n                disabled={isUpdating}\n              >\n                ✓ ยืนยันการประเมิน (เสร็จสิ้น)\n              </Button>\n              <Button \n                onClick={() => onStatusChange(\"0\")} \n                variant=\"outline\"\n                className=\"flex-1 border-red-300 text-red-700 hover:bg-red-50 text-xs sm:text-sm\"\n                disabled={isUpdating}\n              >\n                ✗ ไม่ผ่านการประเมิน\n              </Button>\n            </div>\n          )}\n\n          <div>\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase\">วันที่แจ้ง</p>\n            <p className=\"text-sm mt-1\">\n              {ticket.created_at ? new Date(ticket.created_at).toLocaleDateString('th-TH', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n              }) : '-'}\n            </p>\n          </div>\n\n          {ticket.finish_with && ticket.finish_with.trim() !== '' && (\n            <div>\n              <p className=\"text-xs font-semibold text-muted-foreground uppercase\">ผู้รับเรื่อง</p>\n              <p className=\"text-sm mt-1 font-medium text-purple-700\">{ticket.finish_with}</p>\n            </div>\n          )}\n\n          {ticket.start_repair && ticket.start_repair.trim() !== '' && (\n            <div className=\"col-span-1 sm:col-span-2\">\n              <p className=\"text-xs font-semibold text-muted-foreground uppercase\">วันที่เริ่มซ่อม</p>\n              <p className=\"text-xs sm:text-sm mt-1 font-medium text-blue-700\">{ticket.start_repair}</p>\n            </div>\n          )}\n\n          {(() => {\n            const startDate = ticket.start_repair && ticket.start_repair.trim() !== '' \n              ? new Date(ticket.start_repair)\n              : ticket.created_at ? new Date(ticket.created_at) : null\n            \n            if (!startDate) return null\n            \n            const endDate = ticket.finish_repair && ticket.finish_repair.trim() !== '' \n              ? new Date(ticket.finish_repair) \n              : (status === 2 ? null : new Date())\n            \n            if (!endDate) return null\n            \n            const diffTime = Math.abs(endDate.getTime() - startDate.getTime())\n            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n            \n            return (\n              <div>\n                <p className=\"text-xs font-semibold text-muted-foreground uppercase\">ระยะเวลา{status === 2 ? 'การซ่อม' : ''}</p>\n                <p className=\"text-sm mt-1 font-semibold text-orange-700\">{diffDays} วัน</p>\n              </div>\n            )\n          })()}\n        </div>\n\n        <div className=\"border-t pt-3 sm:pt-4\">\n          <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">ผู้แจ้ง</p>\n          <p className=\"text-xs sm:text-sm font-medium break-words\">{ticket.username || '-'}</p>\n        </div>\n\n        {ticket.asset_id && (\n          <div className=\"border-t pt-3 sm:pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">รหัสทรัพย์สิน</p>\n            <div className=\"flex items-center gap-2\">\n              <p className=\"text-xs sm:text-sm font-medium text-blue-700 break-all\">{ticket.asset_id}</p>\n              {/* <Button \n                variant=\"outline\" \n                size=\"sm\"\n                onClick={handleViewAsset}\n                disabled={isLoadingAsset}\n                className=\"border-blue-300 text-blue-700 hover:bg-blue-50\"\n              >\n                {isLoadingAsset ? 'กำลังโหลด...' : 'ดูข้อมูลทรัพย์สิน'}\n              </Button> */}\n            </div>\n          </div>\n        )}\n\n        {ticket.device_name && (\n          <div className=\"border-t pt-3 sm:pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">ชื่ออุปกรณ์</p>\n            <p className=\"text-xs sm:text-sm font-medium break-words\">{ticket.device_name}</p>\n          </div>\n        )}\n\n        {ticket.type_of_work && (\n          <div className=\"border-t pt-3 sm:pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">ประเภทของงาน</p>\n            <p className=\"text-xs sm:text-sm font-medium text-purple-700\">{ticket.type_of_work}</p>\n          </div>\n        )}\n\n        {ticket.work && (\n          <div className=\"border-t pt-3 sm:pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">ชนิดของงาน</p>\n            <p className=\"text-xs sm:text-sm font-medium text-indigo-700\">{ticket.work}</p>\n          </div>\n        )}\n\n        {ticket.detail_work && (\n          <div className=\"border-t pt-3 sm:pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">รายละเอียดงาน</p>\n            <p className=\"text-xs sm:text-sm whitespace-pre-wrap break-words bg-purple-50 p-2 sm:p-3 rounded-md\">{ticket.detail_work}</p>\n          </div>\n        )}\n\n        {ticket.Ref && (\n          <div className=\"border-t pt-3 sm:pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">อาการ/ปัญหาที่แจ้ง</p>\n            <p className=\"text-xs sm:text-sm whitespace-pre-wrap break-words\">{ticket.Ref}</p>\n          </div>\n        )}\n\n        {ticket.img && (\n          <div className=\"border-t pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">รูปภาพ/วิดีโอประกอบ</p>\n            <Button \n              variant=\"outline\" \n              size=\"sm\"\n              onClick={() => setIsMediaDialogOpen(true)}\n              className=\"border-blue-300 text-blue-700 hover:bg-blue-50\"\n            >\n              <Eye className=\"h-4 w-4 mr-1\" />\n              คลิกเพื่อดูรูป/วิดีโอ\n            </Button>\n          </div>\n        )}\n\n        {(ticket.Rep_info || ticket.Re_Rep1 || ticket.Re_Rep2) && (\n          <div className=\"border-t pt-3 sm:pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">รายละเอียดการซ่อม</p>\n            <div className=\"space-y-2\">\n              {ticket.Rep_info && (\n                <div className=\"bg-blue-50 p-2 sm:p-3 rounded-md border-l-4 border-blue-500\">\n                  <p className=\"text-xs font-semibold text-blue-700 mb-1\">รอบปัจจุบัน</p>\n                  <p className=\"text-xs sm:text-sm whitespace-pre-wrap break-words\">{ticket.Rep_info}</p>\n                </div>\n              )}\n              {ticket.Re_Rep1 && (\n                <div className=\"bg-blue-50/60 p-2 sm:p-3 rounded-md border-l-4 border-blue-400\">\n                  <p className=\"text-xs font-semibold text-blue-600 mb-1\">รอบที่ 2</p>\n                  <p className=\"text-xs sm:text-sm whitespace-pre-wrap break-words text-gray-700\">{ticket.Re_Rep1}</p>\n                </div>\n              )}\n              {ticket.Re_Rep2 && (\n                <div className=\"bg-blue-50/40 p-2 sm:p-3 rounded-md border-l-4 border-blue-300\">\n                  <p className=\"text-xs font-semibold text-blue-500 mb-1\">รอบที่ 3</p>\n                  <p className=\"text-xs sm:text-sm whitespace-pre-wrap break-words text-gray-600\">{ticket.Re_Rep2}</p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {ticket.cost && (\n          <div className=\"border-t pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">ค่าใช้จ่าย</p>\n            <p className=\"text-sm font-semibold text-green-700\">{ticket.cost}</p>\n          </div>\n        )}\n\n        {ticket.repair_count !== null && ticket.repair_count !== undefined && ticket.repair_count > 0 && (\n          <div className=\"border-t pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">จำนวนรอบการซ่อม</p>\n            <p className=\"text-sm font-semibold text-orange-700\">{ticket.repair_count} รอบ</p>\n          </div>\n        )}\n\n        {(ticket.Comment_re || ticket.Comment_re2 || ticket.Comment_re3) && (\n          <div className=\"border-t pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">เหตุผลที่ไม่ผ่านการประเมิน</p>\n            <div className=\"space-y-2\">\n              {ticket.Comment_re && (\n                <div className=\"bg-red-50 p-3 rounded-md border-l-4 border-red-500\">\n                  <p className=\"text-xs font-semibold text-red-700 mb-1\">ครั้งล่าสุด</p>\n                  <p className=\"text-sm whitespace-pre-wrap text-red-700\">{ticket.Comment_re}</p>\n                </div>\n              )}\n              {ticket.Comment_re2 && (\n                <div className=\"bg-red-50/60 p-3 rounded-md border-l-4 border-red-400\">\n                  <p className=\"text-xs font-semibold text-red-600 mb-1\">ครั้งที่ 2</p>\n                  <p className=\"text-sm whitespace-pre-wrap text-gray-700\">{ticket.Comment_re2}</p>\n                </div>\n              )}\n              {ticket.Comment_re3 && (\n                <div className=\"bg-red-50/40 p-3 rounded-md border-l-4 border-red-300\">\n                  <p className=\"text-xs font-semibold text-red-500 mb-1\">ครั้งที่ 3</p>\n                  <p className=\"text-sm whitespace-pre-wrap text-gray-600\">{ticket.Comment_re3}</p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {ticket.cancel_whit && (\n          <div className=\"border-t pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">ยกเลิกโดย</p>\n            <p className=\"text-sm font-semibold text-red-600\">{ticket.cancel_whit}</p>\n          </div>\n        )}\n\n        {ticket.start_repair && ticket.start_repair.trim() !== '' && (\n          <div className=\"border-t pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">วันที่เริ่มซ่อม (start_repair)</p>\n            <p className=\"text-sm font-medium text-blue-700\">{ticket.start_repair}</p>\n          </div>\n        )}\n\n        {ticket.finish_repair && (\n          <div className=\"border-t pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">วันที่ซ่อมเสร็จ/ยกเลิก (finish_repair)</p>\n            <p className=\"text-sm font-medium text-green-700\">\n              {new Date(ticket.finish_repair).toLocaleDateString('th-TH', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n              })}\n            </p>\n          </div>\n        )}\n\n        {/* แสดงผลการประเมินความพึงพอใจ */}\n        {existingFeedback && (\n          <div className=\"border-t pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">ผลการประเมินความพึงพอใจ</p>\n            <div className=\"bg-green-50 p-4 rounded-lg border-l-4 border-green-500\">\n              <div className=\"space-y-3\">\n                <div>\n                  <p className=\"text-xs font-semibold text-gray-600 mb-1\">ระดับความพึงพอใจ</p>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"flex gap-1\">\n                      {[1, 2, 3, 4, 5].map((star) => (\n                        <span \n                          key={star} \n                          className={`text-2xl ${parseInt(existingFeedback.form_status) >= star ? 'text-yellow-400' : 'text-gray-300'}`}\n                        >\n                          ★\n                        </span>\n                      ))}\n                    </div>\n                    <span className=\"text-lg font-bold text-green-700\">\n                      {existingFeedback.form_status === '5' && 'พึงพอใจมากที่สุด'}\n                      {existingFeedback.form_status === '4' && 'พึงพอใจมาก'}\n                      {existingFeedback.form_status === '3' && 'พึงพอใจปานกลาง'}\n                      {existingFeedback.form_status === '2' && 'พึงพอใจน้อย'}\n                      {existingFeedback.form_status === '1' && 'ไม่พึงพอใจ'}\n                    </span>\n                  </div>\n                </div>\n                \n                {existingFeedback.form_description && (\n                  <div>\n                    <p className=\"text-xs font-semibold text-gray-600 mb-1\">หมายเหตุ / ข้อเสนอแนะ</p>\n                    <p className=\"text-sm bg-white p-3 rounded border whitespace-pre-wrap\">\n                      {existingFeedback.form_description}\n                    </p>\n                  </div>\n                )}\n                \n                {existingFeedback.created_at && (\n                  <div>\n                    <p className=\"text-xs text-gray-500\">\n                      ประเมินเมื่อ: {new Date(existingFeedback.created_at).toLocaleString('th-TH', {\n                        year: 'numeric',\n                        month: 'long',\n                        day: 'numeric',\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}\n                    </p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {ticket.total_date && (\n          <div className=\"border-t pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">วันที่ใช้ดำเนินการ (total_date)</p>\n            <p className=\"text-sm font-medium text-purple-700\">{ticket.total_date}</p>\n          </div>\n        )}\n\n        {ticket.updated_at && (\n          <div className=\"border-t pt-4\">\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase mb-2\">อัปเดตล่าสุด</p>\n            <p className=\"text-sm\">\n              {new Date(ticket.updated_at).toLocaleDateString('th-TH', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric',\n                hour: '2-digit',\n                minute: '2-digit'\n              })}\n            </p>\n          </div>\n        )}\n      </CardContent>\n      \n      {isAdmin && (\n        <EditTicketDialog \n          ticket={ticket}\n          isOpen={isEditOpen}\n          onClose={() => setIsEditOpen(false)}\n          onSuccess={() => {\n            if (onUpdate) onUpdate()\n          }}\n        />\n      )}\n\n      {/* Satisfaction Survey Dialog */}\n      <Dialog open={isSurveyOpen} onOpenChange={setIsSurveyOpen}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>{existingFeedback ? 'ผลการประเมินความพึงพอใจ' : 'ประเมินความพึงพอใจ'}</DialogTitle>\n          </DialogHeader>\n          \n          {existingFeedback ? (\n            // แสดงผลการประเมินที่มีอยู่แล้ว\n            <div className=\"space-y-4 py-4\">\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-muted-foreground\">ระดับความพึงพอใจ</label>\n                <div className=\"space-y-2\">\n                  {[\n                    { value: 5, label: \"พึงพอใจมากที่สุด\" },\n                    { value: 4, label: \"พึงพอใจมาก\" },\n                    { value: 3, label: \"พึงพอใจปานกลาง\" },\n                    { value: 2, label: \"พึงพอใจน้อย\" },\n                    { value: 1, label: \"ไม่พึงพอใจ\" },\n                  ].map((option) => {\n                    const rating = parseInt(existingFeedback.form_description?.match(/Rating: (\\d+)/)?.[1] || '0')\n                    return (\n                      <div\n                        key={option.value}\n                        className={`flex items-center space-x-3 p-3 rounded-lg border-2 ${\n                          rating === option.value\n                            ? \"border-blue-500 bg-blue-50\"\n                            : \"border-gray-200\"\n                        }`}\n                      >\n                        <input\n                          type=\"radio\"\n                          checked={rating === option.value}\n                          disabled\n                          className=\"h-4 w-4 text-blue-600\"\n                        />\n                        <label className=\"flex-1 font-medium select-none\">\n                          {option.label}\n                        </label>\n                      </div>\n                    )\n                  })}\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-muted-foreground\">หมายเหตุ / ข้อเสนอแนะ</label>\n                <div className=\"p-3 rounded-md border bg-gray-50 text-sm min-h-[100px]\">\n                  {existingFeedback.form_description?.split(' - ')[1] || '-'}\n                </div>\n              </div>\n\n              <div className=\"space-y-1 text-xs text-muted-foreground\">\n                <p>ประเมินเมื่อ: {new Date(existingFeedback.created_at).toLocaleString('th-TH')}</p>\n              </div>\n\n              <Button\n                type=\"button\"\n                className=\"w-full\"\n                onClick={() => setIsSurveyOpen(false)}\n              >\n                ปิด\n              </Button>\n            </div>\n          ) : (\n            // ฟอร์มประเมินใหม่\n            <form onSubmit={handleSubmitSurvey} className=\"space-y-6 py-4\">\n              <div className=\"space-y-3\">\n                <label className=\"text-sm font-medium\">ระดับความพึงพอใจ <span className=\"text-red-500\">*</span></label>\n                <div className=\"space-y-2\">\n                  {[\n                    { value: 5, label: \"พึงพอใจมากที่สุด\" },\n                    { value: 4, label: \"พึงพอใจมาก\" },\n                    { value: 3, label: \"พึงพอใจปานกลาง\" },\n                    { value: 2, label: \"พึงพอใจน้อย\" },\n                    { value: 1, label: \"ไม่พึงพอใจ\" },\n                  ].map((option) => (\n                    <div\n                      key={option.value}\n                      className={`flex items-center space-x-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${\n                        surveyData.rating === option.value\n                          ? \"border-blue-500 bg-blue-50\"\n                          : \"border-gray-200 hover:border-gray-300\"\n                      }`}\n                      onClick={() =>\n                        setSurveyData({ ...surveyData, rating: option.value })\n                      }\n                    >\n                      <input\n                        type=\"radio\"\n                        name=\"rating\"\n                        value={option.value}\n                        checked={surveyData.rating === option.value}\n                        onChange={(e) =>\n                          setSurveyData({\n                            ...surveyData,\n                            rating: parseInt(e.target.value),\n                          })\n                        }\n                        className=\"h-4 w-4 text-blue-600 focus:ring-blue-500\"\n                      />\n                      <label className=\"flex-1 cursor-pointer font-medium select-none\">\n                        {option.label}\n                      </label>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium\">\n                  หมายเหตุ / ข้อเสนอแนะ\n                  {surveyData.rating < 3 && surveyData.rating > 0 && (\n                    <span className=\"text-red-500 ml-1\">*</span>\n                  )}\n                </label>\n                {surveyData.rating < 3 && surveyData.rating > 0 && (\n                  <p className=\"text-xs text-red-600\">\n                    * กรุณาระบุเหตุผลที่ไม่ผ่านการประเมิน\n                  </p>\n                )}\n                <textarea\n                  placeholder={\n                    surveyData.rating < 3 && surveyData.rating > 0\n                      ? \"กรุณาระบุเหตุผลที่ไม่ผ่านการประเมิน (บังคับกรอก)\"\n                      : \"แสดงความคิดเห็นเพิ่มเติม (ถ้ามี)\"\n                  }\n                  value={surveyData.comment}\n                  onChange={(e) => setSurveyData({ ...surveyData, comment: e.target.value })}\n                  rows={4}\n                  className={`w-full rounded-md border ${\n                    surveyData.rating < 3 && surveyData.rating > 0 && !surveyData.comment.trim()\n                      ? \"border-red-500\"\n                      : \"border-input\"\n                  } bg-background px-3 py-2 text-sm`}\n                  required={surveyData.rating < 3 && surveyData.rating > 0}\n                />\n              </div>\n\n              <div className=\"flex gap-2\">\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  className=\"flex-1\"\n                  onClick={() => {\n                    setIsSurveyOpen(false)\n                    setSurveyData({ rating: 0, comment: \"\" })\n                  }}\n                  disabled={isSubmittingSurvey}\n                >\n                  ยกเลิก\n                </Button>\n                <Button\n                  type=\"submit\"\n                  className=\"flex-1 bg-green-600 hover:bg-green-700\"\n                  disabled={isSubmittingSurvey}\n                >\n                  {isSubmittingSurvey ? 'กำลังบันทึก...' : 'ส่งการประเมิน'}\n                </Button>\n              </div>\n            </form>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Asset Details Dialog */}\n      <Dialog open={isAssetDialogOpen} onOpenChange={setIsAssetDialogOpen}>\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>ข้อมูลทรัพย์สิน</DialogTitle>\n          </DialogHeader>\n          {assetData && (\n            <div className=\"grid grid-cols-2 gap-4 py-4\">\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Asset Code</p>\n                <p className=\"text-sm font-semibold\">{assetData.asset_code || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">ผู้ใช้งาน</p>\n                <p className=\"text-sm\">{assetData.user_name || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">สาขา</p>\n                <p className=\"text-sm\">{assetData.site || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">แผนก</p>\n                <p className=\"text-sm\">{assetData.department || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">อุปกรณ์</p>\n                <p className=\"text-sm font-semibold text-blue-700\">{assetData.device_name || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">ยี่ห้อ</p>\n                <p className=\"text-sm\">{assetData.brand || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">CPU</p>\n                <p className=\"text-sm\">{assetData.cpu || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">RAM</p>\n                <p className=\"text-sm\">{assetData.ram || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Harddisk</p>\n                <p className=\"text-sm\">{assetData.harddisk || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">IP Address</p>\n                <p className=\"text-sm font-mono\">{assetData.ip_address || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">MAC Address</p>\n                <p className=\"text-sm font-mono\">{assetData.mac_address || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Serial Number</p>\n                <p className=\"text-sm font-mono\">{assetData.serial_number || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">หมายเลข</p>\n                <p className=\"text-sm\">{assetData.number || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">License</p>\n                <p className=\"text-sm break-all\">{assetData.license || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">หมวดหมู่</p>\n                <Badge variant=\"secondary\">{assetData.category || '-'}</Badge>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">ราคา</p>\n                <p className=\"text-sm font-semibold text-green-700\">{assetData.cost || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">วันที่ซื้อ</p>\n                <p className=\"text-sm\">{assetData.purchase_date || '-'}</p>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Ref Device</p>\n                <p className=\"text-sm\">{assetData.ref_devicename || '-'}</p>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Media (Image/Video) Dialog */}\n      <Dialog open={isMediaDialogOpen} onOpenChange={setIsMediaDialogOpen}>\n        <DialogContent className=\"max-w-4xl max-h-[90vh]\">\n          <DialogHeader>\n            <DialogTitle>รูปภาพ / วิดีโอประกอบ</DialogTitle>\n          </DialogHeader>\n          <div className=\"py-4\">\n            {ticket.img && (\n              <div className=\"flex justify-center items-center\">\n                {ticket.img.toLowerCase().includes('.mp4') || \n                 ticket.img.toLowerCase().includes('.mov') || \n                 ticket.img.toLowerCase().includes('.webm') || \n                 ticket.img.toLowerCase().includes('.avi') || \n                 ticket.img.toLowerCase().includes('.mkv') || \n                 ticket.img.startsWith('data:video/') ? (\n                  <video \n                    src={ticket.img} \n                    controls \n                    preload=\"metadata\"\n                    className=\"max-w-full max-h-[70vh] rounded-lg border\"\n                  >\n                    <source src={ticket.img} type=\"video/mp4\" />\n                    <source src={ticket.img} type=\"video/webm\" />\n                    <source src={ticket.img} type=\"video/quicktime\" />\n                    เบราว์เซอร์ของคุณไม่รองรับการเล่นวิดีโอ\n                  </video>\n                ) : (\n                  <img \n                    src={ticket.img} \n                    alt=\"Ticket media\" \n                    className=\"max-w-full max-h-[70vh] rounded-lg border object-contain\"\n                  />\n                )}\n              </div>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Feedback Dialog - แสดงเมื่อยืนยันการประเมิน */}\n      <FeedbackDialog\n        isOpen={isFeedbackDialogOpen}\n        onClose={() => setIsFeedbackDialogOpen(false)}\n        requestId={ticket.request_id}\n        onSuccess={() => {\n          // Refresh ticket data หลังจากส่งผลประเมินสำเร็จ\n          if (onUpdate) onUpdate()\n        }}\n      />\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4220, "column": 0}, "map": {"version":3,"sources":["file:///C:/bigboss/react-tsx-repair-system/react-tsx-repair-system/app/report/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@/app/auth-context\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  ArrowLeft,\r\n  Wrench,\r\n  Building2,\r\n  Package,\r\n  Star,\r\n  Search,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n} from \"lucide-react\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { TicketDetail } from \"@/components/ticket-detail\";\r\n\r\ninterface Feedback {\r\n  form_id: number;\r\n  form_name: string;\r\n  form_status: string;\r\n  form_description: string;\r\n  is_active: boolean;\r\n  created_at: string;\r\n}\r\n\r\ninterface Ticket {\r\n  request_id: string;\r\n  Status: number;\r\n  asset_id?: string;\r\n  username: string;\r\n  work?: string;\r\n  detail_work?: string;\r\n  problem_description?: string;\r\n  type_of_work?: string;\r\n  form_type?: string;\r\n  created_at: string;\r\n  updated_at?: string;\r\n}\r\n\r\ninterface Asset {\r\n  site: string;\r\n  category: string;\r\n}\r\n\r\nexport default function ReportPage() {\r\n  const router = useRouter();\r\n  const { user, logout, isLoading } = useAuth();\r\n  const [feedbacks, setFeedbacks] = useState<Feedback[]>([]);\r\n  const [tickets, setTickets] = useState<Ticket[]>([]);\r\n  const [assets, setAssets] = useState<Asset[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [feedbackStats, setFeedbackStats] = useState({\r\n    total: 0,\r\n    excellent: 0,\r\n    good: 0,\r\n    fair: 0,\r\n    poor: 0,\r\n    bad: 0,\r\n    avgRating: 0,\r\n  });\r\n\r\n  const [ticketStats, setTicketStats] = useState({\r\n    total: 0,\r\n    pending: 0,\r\n    inProgress: 0,\r\n    completed: 0,\r\n    cancelled: 0,\r\n    waitingReview: 0,\r\n    requestCount: 0,\r\n    repairCount: 0,\r\n    totalCost: 0,\r\n  });\r\n\r\n  const [siteStats, setSiteStats] = useState<{ [key: string]: number }>({});\r\n  const [categoryStats, setCategoryStats] = useState<{ [key: string]: number }>(\r\n    {}\r\n  );\r\n  const [workStats, setWorkStats] = useState<{ [key: string]: number }>({});\r\n  const [userStats, setUserStats] = useState<{ [key: string]: number }>({});\r\n  const [assetStats, setAssetStats] = useState<{ [key: string]: number }>({});\r\n\r\n  // State สำหรับ Dialog\r\n  const [selectedSite, setSelectedSite] = useState<string | null>(null);\r\n  const [siteDetailStats, setSiteDetailStats] = useState<{\r\n    [key: string]: number;\r\n  }>({});\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [isWorkDialogOpen, setIsWorkDialogOpen] = useState(false);\r\n  const [isUserDialogOpen, setIsUserDialogOpen] = useState(false);\r\n  const [isAssetDialogOpen, setIsAssetDialogOpen] = useState(false);\r\n  const [isCostDialogOpen, setIsCostDialogOpen] = useState(false);\r\n  const [isCategoryDialogOpen, setIsCategoryDialogOpen] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\r\n  const [categoryAssets, setCategoryAssets] = useState<Asset[]>([]);\r\n  const [costDialogDateFilter, setCostDialogDateFilter] = useState<string>(\"all\");\r\n  const [costDialogCustomStartDate, setCostDialogCustomStartDate] = useState<string>(\"\");\r\n  const [costDialogCustomEndDate, setCostDialogCustomEndDate] = useState<string>(\"\");\r\n  const [selectedTicket, setSelectedTicket] = useState<Ticket | null>(null);\r\n  const [isTicketDialogOpen, setIsTicketDialogOpen] = useState(false);\r\n  const [ratingFilter, setRatingFilter] = useState<string>(\"all\");\r\n\r\n  // State สำหรับ DataTable\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(10);\r\n  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n  const [dateFilter, setDateFilter] = useState<string>(\"all\");\r\n  const [customStartDate, setCustomStartDate] = useState<string>(\"\");\r\n  const [customEndDate, setCustomEndDate] = useState<string>(\"\");\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n    router.push(\"/\");\r\n  };\r\n\r\n  const handleTicketClick = async (requestId: string) => {\r\n    try {\r\n      const response = await fetch(`/api/tickets/${requestId}`);\r\n      if (response.ok) {\r\n        const ticketData = await response.json();\r\n        setSelectedTicket(ticketData);\r\n        setIsTicketDialogOpen(true);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch ticket details:\", error);\r\n    }\r\n  };\r\n\r\n  const handleSiteClick = async (siteName: string) => {\r\n    setSelectedSite(siteName);\r\n    setIsDialogOpen(true);\r\n\r\n    // ดึงข้อมูลทรัพย์สินของสาขานั้นๆ และแยกตามประเภท\r\n    const siteAssets = assets.filter((asset) => asset.site === siteName);\r\n    const categoryCount: { [key: string]: number } = {};\r\n    siteAssets.forEach((asset: Asset) => {\r\n      if (asset.category) {\r\n        categoryCount[asset.category] =\r\n          (categoryCount[asset.category] || 0) + 1;\r\n      }\r\n    });\r\n    setSiteDetailStats(categoryCount);\r\n  };\r\n\r\n  const handleCategoryClick = async (categoryName: string) => {\r\n    setSelectedCategory(categoryName);\r\n    setIsCategoryDialogOpen(true);\r\n\r\n    // ดึงข้อมูลทรัพย์สินของประเภทนั้นๆ\r\n    const filtered = assets.filter((asset) => asset.category === categoryName);\r\n    setCategoryAssets(filtered);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isLoading) return;\r\n\r\n    if (!user) {\r\n      router.push(\"/\");\r\n      return;\r\n    }\r\n    if (user.role !== \"admin\") {\r\n      router.push(\"/dashboard\");\r\n      return;\r\n    }\r\n  }, [user, router, isLoading]);\r\n\r\n  useEffect(() => {\r\n    fetchAllData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (tickets.length > 0) {\r\n      fetchTickets();\r\n    }\r\n    if (feedbacks.length > 0) {\r\n      fetchFeedbacks();\r\n    }\r\n  }, [dateFilter, customStartDate, customEndDate]);\r\n\r\n  const fetchAllData = async () => {\r\n    try {\r\n      await Promise.all([fetchFeedbacks(), fetchTickets(), fetchAssets()]);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch data:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterFeedbacksByDate = (feedbacks: any[]) => {\r\n    if (dateFilter === \"all\") return feedbacks;\r\n\r\n    const now = new Date();\r\n    const startOfToday = new Date(\r\n      now.getFullYear(),\r\n      now.getMonth(),\r\n      now.getDate()\r\n    );\r\n\r\n    return feedbacks.filter((f: any) => {\r\n      if (!f.created_at) return false;\r\n      const feedbackDate = new Date(f.created_at);\r\n\r\n      switch (dateFilter) {\r\n        case \"today\":\r\n          return feedbackDate >= startOfToday;\r\n        case \"week\":\r\n          const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n          return feedbackDate >= weekAgo;\r\n        case \"month\":\r\n          const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);\r\n          return feedbackDate >= monthStart;\r\n        case \"year\":\r\n          const yearStart = new Date(now.getFullYear(), 0, 1);\r\n          return feedbackDate >= yearStart;\r\n        case \"custom\":\r\n          if (!customStartDate || !customEndDate) return true;\r\n          const start = new Date(customStartDate);\r\n          const end = new Date(customEndDate);\r\n          end.setHours(23, 59, 59, 999);\r\n          return feedbackDate >= start && feedbackDate <= end;\r\n        default:\r\n          return true;\r\n      }\r\n    });\r\n  };\r\n\r\n  const fetchFeedbacks = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/feedback\");\r\n      if (response.ok) {\r\n        const allData = await response.json();\r\n        setFeedbacks(allData);\r\n\r\n        const data = filterFeedbacksByDate(allData);\r\n\r\n        const total = data.length;\r\n        const ratings = data.map((f: Feedback) => parseInt(f.form_status));\r\n        const excellent = ratings.filter((r: number) => r === 5).length;\r\n        const good = ratings.filter((r: number) => r === 4).length;\r\n        const fair = ratings.filter((r: number) => r === 3).length;\r\n        const poor = ratings.filter((r: number) => r === 2).length;\r\n        const bad = ratings.filter((r: number) => r === 1).length;\r\n        const avgRating =\r\n          total > 0\r\n            ? (\r\n                ratings.reduce((a: number, b: number) => a + b, 0) / total\r\n              ).toFixed(2)\r\n            : 0;\r\n\r\n        setFeedbackStats({\r\n          total,\r\n          excellent,\r\n          good,\r\n          fair,\r\n          poor,\r\n          bad,\r\n          avgRating: Number(avgRating),\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch feedbacks:\", error);\r\n    }\r\n  };\r\n\r\n  const filterTicketsByDate = (tickets: Ticket[]) => {\r\n    if (dateFilter === \"all\") return tickets;\r\n\r\n    const now = new Date();\r\n    const startOfToday = new Date(\r\n      now.getFullYear(),\r\n      now.getMonth(),\r\n      now.getDate()\r\n    );\r\n\r\n    return tickets.filter((t: any) => {\r\n      if (!t.created_at) return false;\r\n      const ticketDate = new Date(t.created_at);\r\n\r\n      switch (dateFilter) {\r\n        case \"today\":\r\n          return ticketDate >= startOfToday;\r\n        case \"week\":\r\n          const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n          return ticketDate >= weekAgo;\r\n        case \"month\":\r\n          const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);\r\n          return ticketDate >= monthStart;\r\n        case \"year\":\r\n          const yearStart = new Date(now.getFullYear(), 0, 1);\r\n          return ticketDate >= yearStart;\r\n        case \"custom\":\r\n          if (!customStartDate || !customEndDate) return true;\r\n          const start = new Date(customStartDate);\r\n          const end = new Date(customEndDate);\r\n          end.setHours(23, 59, 59, 999);\r\n          return ticketDate >= start && ticketDate <= end;\r\n        default:\r\n          return true;\r\n      }\r\n    });\r\n  };\r\n\r\n  const filterTicketsByDateForDialog = (tickets: Ticket[]) => {\r\n    if (costDialogDateFilter === \"all\") return tickets;\r\n\r\n    const now = new Date();\r\n    const startOfToday = new Date(\r\n      now.getFullYear(),\r\n      now.getMonth(),\r\n      now.getDate()\r\n    );\r\n\r\n    return tickets.filter((t: any) => {\r\n      if (!t.created_at) return false;\r\n      const ticketDate = new Date(t.created_at);\r\n\r\n      switch (costDialogDateFilter) {\r\n        case \"today\":\r\n          return ticketDate >= startOfToday;\r\n        case \"week\":\r\n          const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n          return ticketDate >= weekAgo;\r\n        case \"month\":\r\n          const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);\r\n          return ticketDate >= monthStart;\r\n        case \"year\":\r\n          const yearStart = new Date(now.getFullYear(), 0, 1);\r\n          return ticketDate >= yearStart;\r\n        case \"custom\":\r\n          if (!costDialogCustomStartDate || !costDialogCustomEndDate) return true;\r\n          const start = new Date(costDialogCustomStartDate);\r\n          const end = new Date(costDialogCustomEndDate);\r\n          end.setHours(23, 59, 59, 999);\r\n          return ticketDate >= start && ticketDate <= end;\r\n        default:\r\n          return true;\r\n      }\r\n    });\r\n  };\r\n\r\n  const fetchTickets = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/tickets\");\r\n      if (response.ok) {\r\n        const allData = await response.json();\r\n        setTickets(allData);\r\n\r\n        const data = filterTicketsByDate(allData);\r\n\r\n        const total = data.length;\r\n        const pending = data.filter((t: Ticket) => t.Status === 0).length;\r\n        const inProgress = data.filter((t: Ticket) => t.Status === 1).length;\r\n        const completed = data.filter((t: Ticket) => t.Status === 2).length;\r\n        const cancelled = data.filter((t: Ticket) => t.Status === 3).length;\r\n        const waitingReview = data.filter((t: Ticket) => t.Status === 4).length;\r\n        const requestCount = data.filter(\r\n          (t: Ticket) => t.form_type === \"request\"\r\n        ).length;\r\n        const repairCount = data.filter(\r\n          (t: Ticket) => t.form_type === \"repair\"\r\n        ).length;\r\n\r\n        // นับรายการงาน (work)\r\n        const workCount: { [key: string]: number } = {};\r\n        data.forEach((t: Ticket) => {\r\n          if (t.work) {\r\n            workCount[t.work] = (workCount[t.work] || 0) + 1;\r\n          }\r\n        });\r\n        setWorkStats(workCount);\r\n\r\n        // นับผู้แจ้ง (username)\r\n        const userCount: { [key: string]: number } = {};\r\n        data.forEach((t: Ticket) => {\r\n          if (t.username) {\r\n            userCount[t.username] = (userCount[t.username] || 0) + 1;\r\n          }\r\n        });\r\n        setUserStats(userCount);\r\n\r\n        // นับทรัพย์สิน (device_name หรือ asset_id)\r\n        const assetCount: { [key: string]: number } = {};\r\n        data.forEach((t: Ticket) => {\r\n          const assetKey = t.device_name || t.asset_id;\r\n          if (assetKey) {\r\n            assetCount[assetKey] = (assetCount[assetKey] || 0) + 1;\r\n          }\r\n        });\r\n        setAssetStats(assetCount);\r\n\r\n        // คำนวณค่าใช้จ่ายรวมทั้งหมด\r\n        const totalCost = data.reduce((sum: number, t: Ticket) => {\r\n          if (t.cost && t.cost.trim() !== \"\") {\r\n            // ลบเครื่องหมาย , และ ฿ ออกก่อนแปลงเป็นตัวเลข\r\n            const costNumber = parseFloat(t.cost.replace(/[,฿]/g, \"\"));\r\n            return sum + (isNaN(costNumber) ? 0 : costNumber);\r\n          }\r\n          return sum;\r\n        }, 0);\r\n\r\n        setTicketStats({\r\n          total,\r\n          pending,\r\n          inProgress,\r\n          completed,\r\n          cancelled,\r\n          waitingReview,\r\n          requestCount,\r\n          repairCount,\r\n          totalCost,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch tickets:\", error);\r\n    }\r\n  };\r\n\r\n  const fetchAssets = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/assets\");\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        console.log(\"Assets API response:\", result);\r\n\r\n        // API ส่งกลับมาเป็น { success: true, data: [...] }\r\n        const data = result.success ? result.data : [];\r\n        setAssets(data);\r\n\r\n        console.log(\"Total assets:\", data.length);\r\n\r\n        const siteCount: { [key: string]: number } = {};\r\n        data.forEach((asset: Asset) => {\r\n          if (asset.site) {\r\n            siteCount[asset.site] = (siteCount[asset.site] || 0) + 1;\r\n          }\r\n        });\r\n        setSiteStats(siteCount);\r\n        console.log(\"Site stats:\", siteCount);\r\n\r\n        const categoryCount: { [key: string]: number } = {};\r\n        data.forEach((asset: Asset) => {\r\n          if (asset.category) {\r\n            categoryCount[asset.category] =\r\n              (categoryCount[asset.category] || 0) + 1;\r\n          }\r\n        });\r\n        setCategoryStats(categoryCount);\r\n        console.log(\"Category stats:\", categoryCount);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch assets:\", error);\r\n    }\r\n  };\r\n\r\n  const getRatingLabel = (rating: string) => {\r\n    const labels: { [key: string]: string } = {\r\n      \"5\": \"พึงพอใจมากที่สุด\",\r\n      \"4\": \"พึงพอใจมาก\",\r\n      \"3\": \"พึงพอใจปานกลาง\",\r\n      \"2\": \"พึงพอใจน้อย\",\r\n      \"1\": \"ไม่พึงพอใจ\",\r\n    };\r\n    return labels[rating] || \"ไม่ระบุ\";\r\n  };\r\n\r\n  const getRatingBadge = (rating: string) => {\r\n    const styles: { [key: string]: string } = {\r\n      \"5\": \"bg-green-100 text-green-800 border-green-300\",\r\n      \"4\": \"bg-blue-100 text-blue-800 border-blue-300\",\r\n      \"3\": \"bg-yellow-100 text-yellow-800 border-yellow-300\",\r\n      \"2\": \"bg-orange-100 text-orange-800 border-orange-300\",\r\n      \"1\": \"bg-red-100 text-red-800 border-red-300\",\r\n    };\r\n    return styles[rating] || \"bg-gray-100 text-gray-800 border-gray-300\";\r\n  };\r\n\r\n  // Filter และ Pagination สำหรับ tickets\r\n  const filteredTickets = tickets.filter((ticket) => {\r\n    const matchesSearch =\r\n      ticket.request_id.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      ticket.username.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      (ticket.work || \"\").toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      (ticket.problem_description || \"\")\r\n        .toLowerCase()\r\n        .includes(searchQuery.toLowerCase());\r\n\r\n    const matchesStatus =\r\n      statusFilter === \"all\" || ticket.Status.toString() === statusFilter;\r\n\r\n    return matchesSearch && matchesStatus;\r\n  });\r\n\r\n  const totalPages = Math.ceil(filteredTickets.length / itemsPerPage);\r\n  const startIndex = (currentPage - 1) * itemsPerPage;\r\n  const endIndex = startIndex + itemsPerPage;\r\n  const currentTickets = filteredTickets.slice(startIndex, endIndex);\r\n\r\n  const getStatusBadge = (status: number) => {\r\n    switch (status) {\r\n      case 0:\r\n        return (\r\n          <Badge className=\"bg-orange-100 text-orange-800 border-orange-300\">\r\n            รอดำเนินการ\r\n          </Badge>\r\n        );\r\n      case 1:\r\n        return (\r\n          <Badge className=\"bg-blue-100 text-blue-800 border-blue-300\">\r\n            กำลังดำเนินการ\r\n          </Badge>\r\n        );\r\n      case 2:\r\n        return (\r\n          <Badge className=\"bg-green-100 text-green-800 border-green-300\">\r\n            เสร็จสิ้น\r\n          </Badge>\r\n        );\r\n      case 3:\r\n        return (\r\n          <Badge className=\"bg-red-100 text-red-800 border-red-300\">\r\n            ยกเลิก\r\n          </Badge>\r\n        );\r\n      case 4:\r\n        return (\r\n          <Badge className=\"bg-purple-100 text-purple-800 border-purple-300\">\r\n            รอการประเมิน\r\n          </Badge>\r\n        );\r\n      default:\r\n        return <Badge variant=\"outline\">สถานะ: {status}</Badge>;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <header className=\"bg-white border-b\">\r\n          <div className=\"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={() => router.push(\"/dashboard\")}\r\n              >\r\n                <ArrowLeft className=\"h-5 w-5\" />\r\n              </Button>\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold\">ระบบบำรุงรักษา</h1>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  รายงานการประเมิน\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"text-right\">\r\n                <p className=\"font-medium text-sm\">\r\n                  {user?.name || user?.username}\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground capitalize\">\r\n                  {user?.role}\r\n                </p>\r\n              </div>\r\n              <Button variant=\"outline\" onClick={handleLogout}>\r\n                Logout\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        <div className=\"container mx-auto p-6\">\r\n          <div className=\"flex items-center justify-center h-[calc(100vh-200px)]\">\r\n            <div className=\"text-center\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\r\n              <p className=\"text-muted-foreground\">กำลังโหลดข้อมูล...</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <header className=\"bg-white border-b\">\r\n        <div className=\"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2 sm:gap-4 flex-1 min-w-0\">\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={() => router.push(\"/dashboard\")}\r\n                className=\"shrink-0\"\r\n              >\r\n                <ArrowLeft className=\"h-4 w-4 sm:h-5 sm:w-5\" />\r\n              </Button>\r\n              <div className=\"min-w-0\">\r\n                <h1 className=\"text-base sm:text-xl md:text-2xl font-bold truncate\">\r\n                  ระบบบำรุงรักษา\r\n                </h1>\r\n                <p className=\"text-xs sm:text-sm text-muted-foreground hidden sm:block\">\r\n                  รายงานการประเมิน\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2 sm:gap-4 shrink-0\">\r\n              <div className=\"text-right hidden md:block\">\r\n                <p className=\"font-medium text-sm\">\r\n                  {user?.name || user?.username}\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground capitalize\">\r\n                  {user?.role}\r\n                </p>\r\n              </div>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={handleLogout}\r\n                className=\"text-xs sm:text-sm px-2 sm:px-4\"\r\n              >\r\n                <span className=\"hidden sm:inline\">Logout</span>\r\n                <span className=\"sm:hidden\">ออก</span>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6\">\r\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n          <div>\r\n            <h1 className=\"text-xl sm:text-2xl md:text-3xl font-bold\">\r\n              รายงานสถิติระบบบำรุงรักษา\r\n            </h1>\r\n            <p className=\"text-sm text-muted-foreground mt-1\">\r\n              สรุปภาพรวมการทำงานของระบบ\r\n            </p>\r\n          </div>\r\n          <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto\">\r\n            <Select value={dateFilter} onValueChange={setDateFilter}>\r\n              <SelectTrigger className=\"w-full sm:w-[180px]\">\r\n                <SelectValue placeholder=\"ระยะเวลา\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">ทั้งหมด</SelectItem>\r\n                <SelectItem value=\"today\">วันนี้</SelectItem>\r\n                <SelectItem value=\"week\">สัปดาห์นี้</SelectItem>\r\n                <SelectItem value=\"month\">เดือนนี้</SelectItem>\r\n                <SelectItem value=\"year\">ปีนี้</SelectItem>\r\n                <SelectItem value=\"custom\">กำหนดเอง</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n            {dateFilter === \"custom\" && (\r\n              <div className=\"flex gap-2 w-full sm:w-auto\">\r\n                <Input\r\n                  type=\"date\"\r\n                  value={customStartDate}\r\n                  onChange={(e) => setCustomStartDate(e.target.value)}\r\n                  className=\"w-full sm:w-[150px]\"\r\n                  placeholder=\"วันเริ่มต้น\"\r\n                />\r\n                <Input\r\n                  type=\"date\"\r\n                  value={customEndDate}\r\n                  onChange={(e) => setCustomEndDate(e.target.value)}\r\n                  className=\"w-full sm:w-[150px]\"\r\n                  placeholder=\"วันสิ้นสุด\"\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <Tabs defaultValue=\"tickets\" className=\"w-full\">\r\n          <TabsList className=\"grid w-full grid-cols-2 sm:grid-cols-4 gap-1 mb-6 sm:mb-6 transition-all duration-300 ease-in-out scroll-smooth\">\r\n            <TabsTrigger\r\n              value=\"tickets\"\r\n              className=\"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm py-2.5 sm:py-2.5 transition-all duration-200 hover:scale-105 active:scale-95\"\r\n            >\r\n              <Wrench className=\"h-3 w-3 sm:h-4 sm:w-4\" />\r\n              <span className=\"hidden sm:inline\">การแจ้งซ่อม</span>\r\n              <span className=\"sm:hidden\">แจ้งซ่อม</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger\r\n              value=\"sites\"\r\n              className=\"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm py-2 sm:py-2.5 transition-all duration-200 hover:scale-105 active:scale-95\"\r\n            >\r\n              <Building2 className=\"h-3 w-3 sm:h-4 sm:w-4\" />\r\n              <span className=\"hidden sm:inline\">ทรัพย์สินตามสาขา</span>\r\n              <span className=\"sm:hidden\">สาขา</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger\r\n              value=\"categories\"\r\n              className=\"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm py-2 sm:py-2.5 transition-all duration-200 hover:scale-105 active:scale-95\"\r\n            >\r\n              <Package className=\"h-3 w-3 sm:h-4 sm:w-4\" />\r\n              <span className=\"hidden sm:inline\">ประเภททรัพย์สิน</span>\r\n              <span className=\"sm:hidden\">ประเภท</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger\r\n              value=\"feedback\"\r\n              className=\"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm py-2 sm:py-2.5 transition-all duration-200 hover:scale-105 active:scale-95\"\r\n            >\r\n              <Star className=\"h-3 w-3 sm:h-4 sm:w-4\" />\r\n              <span className=\"hidden sm:inline\">ความพึงพอใจ</span>\r\n              <span className=\"sm:hidden\">รีวิว</span>\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          {/* Tab 1: สถิติการแจ้งซ่อม */}\r\n          <TabsContent\r\n            value=\"tickets\"\r\n            className=\"space-y-3 sm:space-y-4 mt-6 sm:mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300\"\r\n          >\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4\">\r\n              <Card className=\"overflow-hidden\">\r\n                <CardHeader className=\"pb-2 px-3 sm:px-6 sm:pb-3\">\r\n                  <CardTitle className=\"text-xs sm:text-sm font-medium text-muted-foreground truncate\">\r\n                    ทั้งหมด\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-3 sm:px-6 pb-8 relative\">\r\n                  <div className=\"text-2xl sm:text-3xl md:text-4xl text-right\">\r\n                    {ticketStats.total}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground absolute bottom-3 right-3\">รายการ</p>\r\n                </CardContent>\r\n              </Card>\r\n              <Card className=\"overflow-hidden\">\r\n                <CardHeader className=\"pb-2 px-3 sm:px-6 sm:pb-3\">\r\n                  <CardTitle className=\"text-xs sm:text-sm font-medium text-muted-foreground truncate\">\r\n                    รอดำเนินการ\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-3 sm:px-6 pb-8 relative\">\r\n                  <div className=\"text-2xl sm:text-3xl md:text-4xl text-orange-600 text-right\">\r\n                    {ticketStats.pending}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground absolute bottom-3 right-3\">\r\n                    {ticketStats.total > 0\r\n                      ? (\r\n                          (ticketStats.pending / ticketStats.total) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : 0}\r\n                    %\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n              <Card className=\"overflow-hidden\">\r\n                <CardHeader className=\"pb-2 px-3 sm:px-6 sm:pb-3\">\r\n                  <CardTitle className=\"text-xs sm:text-sm font-medium text-muted-foreground truncate\">\r\n                    กำลังดำเนินการ\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-3 sm:px-6 pb-8 relative\">\r\n                  <div className=\"text-2xl sm:text-3xl md:text-4xl text-blue-600 text-right\">\r\n                    {ticketStats.inProgress}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground absolute bottom-3 right-3\">\r\n                    {ticketStats.total > 0\r\n                      ? (\r\n                          (ticketStats.inProgress / ticketStats.total) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : 0}\r\n                    %\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n              <Card className=\"overflow-hidden\">\r\n                <CardHeader className=\"pb-2 px-3 sm:px-6 sm:pb-3\">\r\n                  <CardTitle className=\"text-xs sm:text-sm font-medium text-muted-foreground truncate\">\r\n                    เสร็จสิ้น\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-3 sm:px-6 pb-8 relative\">\r\n                  <div className=\"text-2xl sm:text-3xl md:text-4xl text-green-600 text-right\">\r\n                    {ticketStats.completed}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground absolute bottom-3 right-3\">\r\n                    {ticketStats.total > 0\r\n                      ? (\r\n                          (ticketStats.completed / ticketStats.total) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : 0}\r\n                    %\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n              <Card className=\"overflow-hidden\">\r\n                <CardHeader className=\"pb-2 px-3 sm:px-6 sm:pb-3\">\r\n                  <CardTitle className=\"text-xs sm:text-sm font-medium text-muted-foreground truncate\">\r\n                    ยกเลิก\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-3 sm:px-6 pb-8 relative\">\r\n                  <div className=\"text-2xl sm:text-3xl md:text-4xl text-red-600 text-right\">\r\n                    {ticketStats.cancelled}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground absolute bottom-3 right-3\">\r\n                    {ticketStats.total > 0\r\n                      ? (\r\n                          (ticketStats.cancelled / ticketStats.total) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : 0}\r\n                    %\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n              <Card\r\n                className=\"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow\"\r\n                onClick={() => setIsCostDialogOpen(true)}\r\n              >\r\n                <CardHeader className=\"pb-2 px-3 sm:px-6 sm:pb-3\">\r\n                  <CardTitle className=\"text-xs sm:text-sm font-medium text-muted-foreground truncate\">\r\n                    ค่าใช้จ่ายรวม\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-3 sm:px-6 pb-8 relative\">\r\n                  <div className=\"text-2xl sm:text-3xl md:text-4xl text-amber-600 text-right\">\r\n                    {ticketStats.totalCost.toLocaleString(\"th-TH\", {\r\n                      minimumFractionDigits: 2,\r\n                      maximumFractionDigits: 2,\r\n                    })}{\" \"}\r\n                    บาท\r\n                  </div>\r\n                  <p className=\"text-xs text-blue-600 absolute bottom-3 right-3\">\r\n                    คลิกเพื่อดูรายละเอียด\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n\r\n            <Card>\r\n              <CardHeader className=\"px-4 sm:px-6\">\r\n                <CardTitle className=\"text-base sm:text-lg\">\r\n                  การกระจายของสถานะงาน\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"px-4 sm:px-6\">\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  {[\r\n                    {\r\n                      label: \"รอดำเนินการ\",\r\n                      count: ticketStats.pending,\r\n                      color: \"bg-orange-500\",\r\n                    },\r\n                    {\r\n                      label: \"กำลังดำเนินการ\",\r\n                      count: ticketStats.inProgress,\r\n                      color: \"bg-blue-500\",\r\n                    },\r\n                    {\r\n                      label: \"รอการประเมิน\",\r\n                      count: ticketStats.waitingReview,\r\n                      color: \"bg-purple-500\",\r\n                    },\r\n                    {\r\n                      label: \"เสร็จสิ้น\",\r\n                      count: ticketStats.completed,\r\n                      color: \"bg-green-500\",\r\n                    },\r\n                    {\r\n                      label: \"ยกเลิก\",\r\n                      count: ticketStats.cancelled,\r\n                      color: \"bg-red-500\",\r\n                    },\r\n                  ].map((item) => {\r\n                    const percentage =\r\n                      ticketStats.total > 0\r\n                        ? (item.count / ticketStats.total) * 100\r\n                        : 0;\r\n                    return (\r\n                      <div\r\n                        key={item.label}\r\n                        className=\"space-y-1.5 sm:space-y-2\"\r\n                      >\r\n                        <div className=\"flex items-center justify-between text-xs sm:text-sm\">\r\n                          <div className=\"flex items-center gap-1.5 sm:gap-2\">\r\n                            <span className=\"font-medium\">{item.label}</span>\r\n                            <span className=\"text-muted-foreground\">\r\n                              ({item.count})\r\n                            </span>\r\n                          </div>\r\n                          <span className=\"font-medium\">\r\n                            {percentage.toFixed(1)}%\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"w-full bg-gray-200 rounded-full h-2 sm:h-2.5\">\r\n                          <div\r\n                            className={`${item.color} h-2 sm:h-2.5 rounded-full transition-all duration-300`}\r\n                            style={{ width: `${percentage}%` }}\r\n                          ></div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4\">\r\n              <Card>\r\n                <CardHeader className=\"px-4 sm:px-6\">\r\n                  <CardTitle className=\"text-base sm:text-lg\">\r\n                    ประเภทของงาน\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-4 sm:px-6\">\r\n                  <div className=\"grid grid-cols-2 gap-3 sm:gap-4\">\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"w-4 h-4 bg-blue-500 rounded\"></div>\r\n                          <span className=\"font-medium text-sm\">\r\n                            เบิกอุปกรณ์\r\n                          </span>\r\n                        </div>\r\n                        <span className=\"text-xl font-bold text-blue-600\">\r\n                          {ticketStats.requestCount}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-lg h-32 flex items-end\">\r\n                        <div\r\n                          className=\"bg-blue-500 rounded-lg transition-all duration-500 w-full flex items-center justify-center text-white font-bold text-sm\"\r\n                          style={{\r\n                            height:\r\n                              ticketStats.total > 0\r\n                                ? `${\r\n                                    (ticketStats.requestCount /\r\n                                      ticketStats.total) *\r\n                                    100\r\n                                  }%`\r\n                                : \"0%\",\r\n                            minHeight:\r\n                              ticketStats.requestCount > 0 ? \"30px\" : \"0px\",\r\n                          }}\r\n                        >\r\n                          {ticketStats.total > 0\r\n                            ? `${(\r\n                                (ticketStats.requestCount / ticketStats.total) *\r\n                                100\r\n                              ).toFixed(1)}%`\r\n                            : \"\"}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"w-4 h-4 bg-green-500 rounded\"></div>\r\n                          <span className=\"font-medium text-sm\">แจ้งซ่อม</span>\r\n                        </div>\r\n                        <span className=\"text-xl font-bold text-green-600\">\r\n                          {ticketStats.repairCount}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-lg h-32 flex items-end\">\r\n                        <div\r\n                          className=\"bg-green-500 rounded-lg transition-all duration-500 w-full flex items-center justify-center text-white font-bold text-sm\"\r\n                          style={{\r\n                            height:\r\n                              ticketStats.total > 0\r\n                                ? `${\r\n                                    (ticketStats.repairCount /\r\n                                      ticketStats.total) *\r\n                                    100\r\n                                  }%`\r\n                                : \"0%\",\r\n                            minHeight:\r\n                              ticketStats.repairCount > 0 ? \"30px\" : \"0px\",\r\n                          }}\r\n                        >\r\n                          {ticketStats.total > 0\r\n                            ? `${(\r\n                                (ticketStats.repairCount / ticketStats.total) *\r\n                                100\r\n                              ).toFixed(1)}%`\r\n                            : \"\"}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>รายการงานยอดนิยม</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"space-y-3\">\r\n                    {Object.entries(workStats)\r\n                      .sort((a, b) => b[1] - a[1])\r\n                      .slice(0, 5)\r\n                      .map(([work, count], index) => {\r\n                        const maxCount = Math.max(...Object.values(workStats));\r\n                        const percentage =\r\n                          maxCount > 0 ? (count / maxCount) * 100 : 0;\r\n                        return (\r\n                          <div key={work} className=\"space-y-1\">\r\n                            <div className=\"flex items-center justify-between text-xs\">\r\n                              <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                                <span className=\"font-medium text-muted-foreground flex-shrink-0\">\r\n                                  #{index + 1}\r\n                                </span>\r\n                                <span\r\n                                  className=\"font-medium truncate\"\r\n                                  title={work}\r\n                                >\r\n                                  {work}\r\n                                </span>\r\n                              </div>\r\n                              <span className=\"font-bold text-blue-600 ml-2 flex-shrink-0\">\r\n                                {count} ครั้ง\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"w-full bg-gray-200 rounded-full h-6 flex items-center\">\r\n                              <div\r\n                                className=\"bg-gradient-to-r from-blue-500 to-blue-600 h-6 rounded-full flex items-center justify-end px-2 transition-all duration-500\"\r\n                                style={{\r\n                                  width: `${percentage}%`,\r\n                                  minWidth: count > 0 ? \"40px\" : \"0px\",\r\n                                }}\r\n                              >\r\n                                <span className=\"text-white text-xs font-bold\">\r\n                                  {percentage.toFixed(0)}%\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    {Object.keys(workStats).length === 0 && (\r\n                      <div className=\"text-center text-muted-foreground py-8 text-sm\">\r\n                        ยังไม่มีข้อมูลรายการงาน\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  {Object.keys(workStats).length > 5 && (\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      className=\"w-full mt-3\"\r\n                      size=\"sm\"\r\n                      onClick={() => setIsWorkDialogOpen(true)}\r\n                    >\r\n                      ดูทั้งหมด ({Object.keys(workStats).length} รายการ)\r\n                    </Button>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>ผู้แจ้งบ่อยที่สุด</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"space-y-3\">\r\n                    {Object.entries(userStats)\r\n                      .sort((a, b) => b[1] - a[1])\r\n                      .slice(0, 5)\r\n                      .map(([username, count], index) => {\r\n                        const maxCount = Math.max(...Object.values(userStats));\r\n                        const percentage =\r\n                          maxCount > 0 ? (count / maxCount) * 100 : 0;\r\n                        return (\r\n                          <div key={username} className=\"space-y-1\">\r\n                            <div className=\"flex items-center justify-between text-xs\">\r\n                              <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                                <span className=\"font-medium text-muted-foreground shrink-0\">\r\n                                  #{index + 1}\r\n                                </span>\r\n                                <span\r\n                                  className=\"font-medium truncate\"\r\n                                  title={username}\r\n                                >\r\n                                  {username}\r\n                                </span>\r\n                              </div>\r\n                              <span className=\"font-bold text-green-600 ml-2 shrink-0\">\r\n                                {count} ครั้ง\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"w-full bg-gray-200 rounded-full h-6 flex items-center\">\r\n                              <div\r\n                                className=\"bg-gradient-to-r from-green-500 to-green-600 h-6 rounded-full flex items-center justify-end px-2 transition-all duration-500\"\r\n                                style={{\r\n                                  width: `${percentage}%`,\r\n                                  minWidth: count > 0 ? \"40px\" : \"0px\",\r\n                                }}\r\n                              >\r\n                                <span className=\"text-white text-xs font-bold\">\r\n                                  {percentage.toFixed(0)}%\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    {Object.keys(userStats).length === 0 && (\r\n                      <div className=\"text-center text-muted-foreground py-8 text-sm\">\r\n                        ยังไม่มีข้อมูลผู้แจ้ง\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  {Object.keys(userStats).length > 5 && (\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      className=\"w-full mt-3\"\r\n                      size=\"sm\"\r\n                      onClick={() => setIsUserDialogOpen(true)}\r\n                    >\r\n                      ดูทั้งหมด ({Object.keys(userStats).length} คน)\r\n                    </Button>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>ทรัพย์สินที่ซ่อมบ่อยที่สุด</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"space-y-3\">\r\n                    {Object.entries(assetStats)\r\n                      .sort((a, b) => b[1] - a[1])\r\n                      .slice(0, 5)\r\n                      .map(([assetId, count], index) => {\r\n                        const maxCount = Math.max(...Object.values(assetStats));\r\n                        const percentage =\r\n                          maxCount > 0 ? (count / maxCount) * 100 : 0;\r\n                        return (\r\n                          <div key={assetId} className=\"space-y-1\">\r\n                            <div className=\"flex items-center justify-between text-xs\">\r\n                              <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                                <span className=\"font-medium text-muted-foreground shrink-0\">\r\n                                  #{index + 1}\r\n                                </span>\r\n                                <span\r\n                                  className=\"font-medium truncate\"\r\n                                  title={assetId}\r\n                                >\r\n                                  {assetId}\r\n                                </span>\r\n                              </div>\r\n                              <span className=\"font-bold text-orange-600 ml-2 shrink-0\">\r\n                                {count} ครั้ง\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"w-full bg-gray-200 rounded-full h-6 flex items-center\">\r\n                              <div\r\n                                className=\"bg-gradient-to-r from-orange-500 to-orange-600 h-6 rounded-full flex items-center justify-end px-2 transition-all duration-500\"\r\n                                style={{\r\n                                  width: `${percentage}%`,\r\n                                  minWidth: count > 0 ? \"40px\" : \"0px\",\r\n                                }}\r\n                              >\r\n                                <span className=\"text-white text-xs font-bold\">\r\n                                  {percentage.toFixed(0)}%\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    {Object.keys(assetStats).length === 0 && (\r\n                      <div className=\"text-center text-muted-foreground py-8 text-sm\">\r\n                        ยังไม่มีข้อมูลทรัพย์สิน\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  {Object.keys(assetStats).length > 5 && (\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      className=\"w-full mt-3\"\r\n                      size=\"sm\"\r\n                      onClick={() => setIsAssetDialogOpen(true)}\r\n                    >\r\n                      ดูทั้งหมด ({Object.keys(assetStats).length} รายการ)\r\n                    </Button>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>ประวัติการแจ้งซ่อมทั้งหมด</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                {/* Search and Filter */}\r\n                <div className=\"flex items-center gap-4 mb-4\">\r\n                  <div className=\"relative flex-1\">\r\n                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                    <Input\r\n                      placeholder=\"ค้นหา เลขที่คำขอ, ผู้แจ้ง, รายการ...\"\r\n                      value={searchQuery}\r\n                      onChange={(e) => {\r\n                        setSearchQuery(e.target.value);\r\n                        setCurrentPage(1);\r\n                      }}\r\n                      className=\"pl-10\"\r\n                    />\r\n                  </div>\r\n                  <Select\r\n                    value={statusFilter}\r\n                    onValueChange={(value) => {\r\n                      setStatusFilter(value);\r\n                      setCurrentPage(1);\r\n                    }}\r\n                  >\r\n                    <SelectTrigger className=\"w-[180px]\">\r\n                      <SelectValue placeholder=\"กรองสถานะ\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"all\">ทุกสถานะ</SelectItem>\r\n                      <SelectItem value=\"0\">รอดำเนินการ</SelectItem>\r\n                      <SelectItem value=\"1\">กำลังดำเนินการ</SelectItem>\r\n                      <SelectItem value=\"2\">เสร็จสิ้น</SelectItem>\r\n                      <SelectItem value=\"3\">ยกเลิก</SelectItem>\r\n                      <SelectItem value=\"4\">รอการประเมิน</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <Select\r\n                    value={itemsPerPage.toString()}\r\n                    onValueChange={(value) => {\r\n                      setItemsPerPage(Number(value));\r\n                      setCurrentPage(1);\r\n                    }}\r\n                  >\r\n                    <SelectTrigger className=\"w-[120px]\">\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"10\">10 รายการ</SelectItem>\r\n                      <SelectItem value=\"20\">20 รายการ</SelectItem>\r\n                      <SelectItem value=\"30\">30 รายการ</SelectItem>\r\n                      <SelectItem value=\"40\">40 รายการ</SelectItem>\r\n                      <SelectItem value=\"50\">50 รายการ</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"rounded-md border\">\r\n                  <Table>\r\n                    <TableHeader>\r\n                      <TableRow>\r\n                        <TableHead className=\"w-[80px]\">ลำดับ</TableHead>\r\n                        <TableHead>เลขที่คำขอ</TableHead>\r\n                        <TableHead>ผู้แจ้ง</TableHead>\r\n                        <TableHead>รายการ</TableHead>\r\n                        <TableHead>ประเภท</TableHead>\r\n                        <TableHead>สถานะ</TableHead>\r\n                        <TableHead className=\"text-right\">วันที่แจ้ง</TableHead>\r\n                      </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                      {currentTickets.length === 0 ? (\r\n                        <TableRow>\r\n                          <TableCell\r\n                            colSpan={7}\r\n                            className=\"text-center text-muted-foreground py-8\"\r\n                          >\r\n                            {searchQuery || statusFilter !== \"all\"\r\n                              ? \"ไม่พบข้อมูลที่ค้นหา\"\r\n                              : \"ยังไม่มีข้อมูลการแจ้งซ่อม\"}\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ) : (\r\n                        currentTickets.map((ticket, index) => (\r\n                          <TableRow key={ticket.request_id}>\r\n                            <TableCell className=\"font-medium\">\r\n                              {startIndex + index + 1}\r\n                            </TableCell>\r\n                            <TableCell className=\"font-mono\">\r\n                              {ticket.request_id}\r\n                            </TableCell>\r\n                            <TableCell>{ticket.username}</TableCell>\r\n                            <TableCell className=\"max-w-xs truncate\">\r\n                              {ticket.work || ticket.problem_description || \"-\"}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                              <Badge variant=\"outline\">\r\n                                {ticket.form_type === \"request\"\r\n                                  ? \"เบิกอุปกรณ์\"\r\n                                  : \"แจ้งซ่อม\"}\r\n                              </Badge>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                              {getStatusBadge(ticket.Status)}\r\n                            </TableCell>\r\n                            <TableCell className=\"text-right text-sm\">\r\n                              {new Date(ticket.created_at).toLocaleDateString(\r\n                                \"th-TH\",\r\n                                {\r\n                                  year: \"numeric\",\r\n                                  month: \"short\",\r\n                                  day: \"numeric\",\r\n                                  hour: \"2-digit\",\r\n                                  minute: \"2-digit\",\r\n                                }\r\n                              )}\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        ))\r\n                      )}\r\n                    </TableBody>\r\n                  </Table>\r\n                </div>\r\n\r\n                {/* Pagination */}\r\n                <div className=\"flex items-center justify-between mt-4\">\r\n                  <div className=\"text-sm text-muted-foreground\">\r\n                    แสดง {startIndex + 1} -{\" \"}\r\n                    {Math.min(endIndex, filteredTickets.length)} จาก{\" \"}\r\n                    {filteredTickets.length} รายการ\r\n                    {tickets.length !== filteredTickets.length &&\r\n                      ` (กรองจากทั้งหมด ${tickets.length} รายการ)`}\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() =>\r\n                        setCurrentPage((prev) => Math.max(1, prev - 1))\r\n                      }\r\n                      disabled={currentPage === 1}\r\n                    >\r\n                      <ChevronLeft className=\"h-4 w-4\" />\r\n                      ก่อนหน้า\r\n                    </Button>\r\n                    <div className=\"flex items-center gap-1\">\r\n                      {Array.from({ length: totalPages }, (_, i) => i + 1)\r\n                        .filter((page) => {\r\n                          return (\r\n                            page === 1 ||\r\n                            page === totalPages ||\r\n                            (page >= currentPage - 1 && page <= currentPage + 1)\r\n                          );\r\n                        })\r\n                        .map((page, index, array) => (\r\n                          <div key={page} className=\"flex items-center\">\r\n                            {index > 0 && array[index - 1] !== page - 1 && (\r\n                              <span className=\"px-2\">...</span>\r\n                            )}\r\n                            <Button\r\n                              variant={\r\n                                currentPage === page ? \"default\" : \"outline\"\r\n                              }\r\n                              size=\"sm\"\r\n                              onClick={() => setCurrentPage(page)}\r\n                              className=\"min-w-[40px]\"\r\n                            >\r\n                              {page}\r\n                            </Button>\r\n                          </div>\r\n                        ))}\r\n                    </div>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() =>\r\n                        setCurrentPage((prev) => Math.min(totalPages, prev + 1))\r\n                      }\r\n                      disabled={currentPage === totalPages || totalPages === 0}\r\n                    >\r\n                      ถัดไป\r\n                      <ChevronRight className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Tab 2: สถิติทรัพย์สินตามสาขา */}\r\n          <TabsContent\r\n            value=\"sites\"\r\n            className=\"space-y-3 sm:space-y-4 mt-6 sm:mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300\"\r\n          >\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4\">\r\n              {Object.entries(siteStats)\r\n                .sort((a, b) => b[1] - a[1])\r\n                .map(([site, count]) => {\r\n                  const total = Object.values(siteStats).reduce(\r\n                    (a, b) => a + b,\r\n                    0\r\n                  );\r\n                  const percentage = total > 0 ? (count / total) * 100 : 0;\r\n                  return (\r\n                    <Card\r\n                      key={site}\r\n                      className=\"cursor-pointer hover:shadow-lg transition-shadow hover:border-blue-500 overflow-hidden\"\r\n                      onClick={() => handleSiteClick(site)}\r\n                    >\r\n                      <CardHeader className=\"pb-2 px-4 sm:px-6 sm:pb-3\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <Building2 className=\"h-6 w-6 sm:h-8 sm:w-8 text-blue-500\" />\r\n                          <Badge variant=\"secondary\" className=\"text-sm sm:text-base\">\r\n                            {percentage.toFixed(1)}%\r\n                          </Badge>\r\n                        </div>\r\n                        <CardTitle className=\"text-xl sm:text-2xl md:text-3xl mt-2 truncate\">\r\n                          {site || \"ไม่ระบุสาขา\"}\r\n                        </CardTitle>\r\n                      </CardHeader>\r\n                      <CardContent className=\"px-4 sm:px-6\">\r\n                        <div className=\"space-y-2\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <span className=\"text-sm sm:text-base text-muted-foreground\">\r\n                              จำนวนทรัพย์สิน\r\n                            </span>\r\n                            <span className=\"text-2xl sm:text-3xl md:text-4xl font-bold text-blue-600\">\r\n                              {count}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                            <div\r\n                              className=\"bg-blue-500 h-2 rounded-full\"\r\n                              style={{ width: `${percentage}%` }}\r\n                            ></div>\r\n                          </div>\r\n                          <p className=\"text-xs text-muted-foreground text-center mt-2\">\r\n                            คลิกเพื่อดูรายละเอียด\r\n                          </p>\r\n                        </div>\r\n                      </CardContent>\r\n                    </Card>\r\n                  );\r\n                })}\r\n              {Object.keys(siteStats).length === 0 && (\r\n                <div className=\"col-span-full text-center text-muted-foreground py-8\">\r\n                  ยังไม่มีข้อมูลทรัพย์สิน\r\n                </div>\r\n              )}\r\n            </div>\r\n          </TabsContent>\r\n\r\n          {/* Tab 3: สถิติประเภททรัพย์สิน */}\r\n          <TabsContent\r\n            value=\"categories\"\r\n            className=\"space-y-3 sm:space-y-4 mt-6 sm:mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300\"\r\n          >\r\n            <Card>\r\n              <CardHeader className=\"px-4 sm:px-6\">\r\n                <CardTitle className=\"text-base sm:text-lg\">\r\n                  จำนวนทรัพย์สินแยกตามประเภท\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"px-4 sm:px-6\">\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  {Object.entries(categoryStats)\r\n                    .sort((a, b) => b[1] - a[1])\r\n                    .map(([category, count]) => {\r\n                      const total = Object.values(categoryStats).reduce(\r\n                        (a, b) => a + b,\r\n                        0\r\n                      );\r\n                      const percentage = total > 0 ? (count / total) * 100 : 0;\r\n                      return (\r\n                        <div\r\n                          key={category}\r\n                          className=\"space-y-1.5 sm:space-y-2 cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors\"\r\n                          onClick={() => handleCategoryClick(category)}\r\n                        >\r\n                          <div className=\"flex items-center justify-between text-xs sm:text-sm\">\r\n                            <div className=\"flex items-center gap-1.5 sm:gap-2\">\r\n                              <span className=\"font-medium\">\r\n                                {category || \"ไม่ระบุประเภท\"}\r\n                              </span>\r\n                              <span className=\"text-muted-foreground\">\r\n                                ({count} รายการ)\r\n                              </span>\r\n                            </div>\r\n                            <span className=\"font-medium\">\r\n                              {percentage.toFixed(1)}%\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"w-full bg-gray-200 rounded-full h-2 sm:h-2.5\">\r\n                            <div\r\n                              className=\"bg-purple-500 h-2 sm:h-2.5 rounded-full transition-all duration-300\"\r\n                              style={{ width: `${percentage}%` }}\r\n                            ></div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  {Object.keys(categoryStats).length === 0 && (\r\n                    <div className=\"text-center text-muted-foreground py-8\">\r\n                      ยังไม่มีข้อมูลทรัพย์สิน\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Tab 4: รายงานผลการประเมินความพึงพอใจ */}\r\n          <TabsContent\r\n            value=\"feedback\"\r\n            className=\"space-y-3 sm:space-y-4 mt-6 sm:mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300\"\r\n          >\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4\">\r\n              <Card className=\"overflow-hidden\">\r\n                <CardHeader className=\"pb-2 px-3 sm:px-6 sm:pb-3\">\r\n                  <CardTitle className=\"text-xs sm:text-sm font-medium text-muted-foreground truncate\">\r\n                    จำนวนการประเมินทั้งหมด\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-3 sm:px-6 pb-8 relative\">\r\n                  <div className=\"text-2xl sm:text-3xl md:text-4xl text-right\">\r\n                    {feedbackStats.total}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground absolute bottom-3 right-3\">รายการ</p>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card className=\"overflow-hidden\">\r\n                <CardHeader className=\"pb-2 px-3 sm:px-6 sm:pb-3\">\r\n                  <CardTitle className=\"text-xs sm:text-sm font-medium text-muted-foreground truncate\">\r\n                    คะแนนเฉลี่ย\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-3 sm:px-6 pb-8 relative\">\r\n                  <div className=\"text-2xl sm:text-3xl md:text-4xl text-blue-600 text-right\">\r\n                    {feedbackStats.avgRating}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground absolute bottom-3 right-3\">\r\n                    จาก 5 คะแนน\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card className=\"overflow-hidden\">\r\n                <CardHeader className=\"pb-2 px-3 sm:px-6 sm:pb-3\">\r\n                  <CardTitle className=\"text-xs sm:text-sm font-medium text-muted-foreground truncate\">\r\n                    พึงพอใจมากที่สุด\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-3 sm:px-6 pb-8 relative\">\r\n                  <div className=\"text-2xl sm:text-3xl md:text-4xl text-green-600 text-right\">\r\n                    {feedbackStats.excellent}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground absolute bottom-3 right-3\">\r\n                    {feedbackStats.total > 0\r\n                      ? (\r\n                          (feedbackStats.excellent / feedbackStats.total) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : 0}\r\n                    %\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card className=\"overflow-hidden\">\r\n                <CardHeader className=\"pb-2 px-3 sm:px-6 sm:pb-3\">\r\n                  <CardTitle className=\"text-xs sm:text-sm font-medium text-muted-foreground truncate\">\r\n                    ไม่พึงพอใจ\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"px-3 sm:px-6 pb-8 relative\">\r\n                  <div className=\"text-2xl sm:text-3xl md:text-4xl text-red-600 text-right\">\r\n                    {feedbackStats.bad}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground absolute bottom-3 right-3\">\r\n                    {feedbackStats.total > 0\r\n                      ? (\r\n                          (feedbackStats.bad / feedbackStats.total) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : 0}\r\n                    %\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>การกระจายของคะแนนประเมิน</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-4\">\r\n                  {[\r\n                    {\r\n                      rating: 5,\r\n                      label: \"พึงพอใจมากที่สุด\",\r\n                      count: feedbackStats.excellent,\r\n                      color: \"bg-green-500\",\r\n                    },\r\n                    {\r\n                      rating: 4,\r\n                      label: \"พึงพอใจมาก\",\r\n                      count: feedbackStats.good,\r\n                      color: \"bg-blue-500\",\r\n                    },\r\n                    {\r\n                      rating: 3,\r\n                      label: \"พึงพอใจปานกลาง\",\r\n                      count: feedbackStats.fair,\r\n                      color: \"bg-yellow-500\",\r\n                    },\r\n                    {\r\n                      rating: 2,\r\n                      label: \"พึงพอใจน้อย\",\r\n                      count: feedbackStats.poor,\r\n                      color: \"bg-orange-500\",\r\n                    },\r\n                    {\r\n                      rating: 1,\r\n                      label: \"ไม่พึงพอใจ\",\r\n                      count: feedbackStats.bad,\r\n                      color: \"bg-red-500\",\r\n                    },\r\n                  ].map((item) => {\r\n                    const percentage =\r\n                      feedbackStats.total > 0\r\n                        ? (item.count / feedbackStats.total) * 100\r\n                        : 0;\r\n                    return (\r\n                      <div key={item.rating} className=\"space-y-2\">\r\n                        <div className=\"flex items-center justify-between text-sm\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span className=\"font-medium\">{item.label}</span>\r\n                            <span className=\"text-muted-foreground\">\r\n                              ({item.count})\r\n                            </span>\r\n                          </div>\r\n                          <span className=\"font-medium\">\r\n                            {percentage.toFixed(1)}%\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                          <div\r\n                            className={`${item.color} h-2.5 rounded-full`}\r\n                            style={{ width: `${percentage}%` }}\r\n                          ></div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <CardTitle>รายละเอียดการประเมินทั้งหมด</CardTitle>\r\n                  <Select value={ratingFilter} onValueChange={setRatingFilter}>\r\n                    <SelectTrigger className=\"w-[200px]\">\r\n                      <SelectValue placeholder=\"กรองตามดาว\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"all\">ทั้งหมด</SelectItem>\r\n                      <SelectItem value=\"5\">★★★★★ (5 ดาว)</SelectItem>\r\n                      <SelectItem value=\"4\">★★★★☆ (4 ดาว)</SelectItem>\r\n                      <SelectItem value=\"3\">★★★☆☆ (3 ดาว)</SelectItem>\r\n                      <SelectItem value=\"2\">★★☆☆☆ (2 ดาว)</SelectItem>\r\n                      <SelectItem value=\"1\">★☆☆☆☆ (1 ดาว)</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"rounded-md border\">\r\n                  <Table>\r\n                    <TableHeader>\r\n                      <TableRow>\r\n                        <TableHead className=\"w-[100px]\">ลำดับ</TableHead>\r\n                        <TableHead>เลขที่คำขอ</TableHead>\r\n                        <TableHead>ระดับความพึงพอใจ</TableHead>\r\n                        <TableHead>คะแนน</TableHead>\r\n                        <TableHead>หมายเหตุ</TableHead>\r\n                        <TableHead className=\"text-right\">\r\n                          วันที่ประเมิน\r\n                        </TableHead>\r\n                      </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                      {feedbacks.length === 0 ? (\r\n                        <TableRow>\r\n                          <TableCell\r\n                            colSpan={6}\r\n                            className=\"text-center text-muted-foreground py-8\"\r\n                          >\r\n                            ยังไม่มีข้อมูลการประเมิน\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ) : (\r\n                        feedbacks\r\n                          .filter(feedback => \r\n                            ratingFilter === \"all\" || feedback.form_status === ratingFilter\r\n                          )\r\n                          .map((feedback, index) => (\r\n                          <TableRow key={feedback.form_id}>\r\n                            <TableCell className=\"font-medium\">\r\n                              {index + 1}\r\n                            </TableCell>\r\n                            <TableCell className=\"font-mono\">\r\n                              <button\r\n                                onClick={() => handleTicketClick(feedback.form_name)}\r\n                                className=\"text-blue-600 hover:text-blue-800 hover:underline font-semibold transition-colors\"\r\n                              >\r\n                                {feedback.form_name}\r\n                              </button>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                              <Badge\r\n                                className={getRatingBadge(feedback.form_status)}\r\n                              >\r\n                                {getRatingLabel(feedback.form_status)}\r\n                              </Badge>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                              <div className=\"flex gap-0.5\">\r\n                                {[1, 2, 3, 4, 5].map((star) => (\r\n                                  <span\r\n                                    key={star}\r\n                                    className={`text-lg ${\r\n                                      parseInt(feedback.form_status) >= star\r\n                                        ? \"text-yellow-400\"\r\n                                        : \"text-gray-300\"\r\n                                    }`}\r\n                                  >\r\n                                    ★\r\n                                  </span>\r\n                                ))}\r\n                              </div>\r\n                            </TableCell>\r\n                            <TableCell className=\"max-w-xs truncate\">\r\n                              {feedback.form_description || \"-\"}\r\n                            </TableCell>\r\n                            <TableCell className=\"text-right text-sm\">\r\n                              {new Date(feedback.created_at).toLocaleDateString(\r\n                                \"th-TH\",\r\n                                {\r\n                                  year: \"numeric\",\r\n                                  month: \"short\",\r\n                                  day: \"numeric\",\r\n                                  hour: \"2-digit\",\r\n                                  minute: \"2-digit\",\r\n                                }\r\n                              )}\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        ))\r\n                      )}\r\n                    </TableBody>\r\n                  </Table>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Ticket Detail Dialog */}\r\n            <Dialog open={isTicketDialogOpen} onOpenChange={setIsTicketDialogOpen}>\r\n              <DialogContent className=\"!max-w-none w-[64vw] h-[95vh] overflow-y-auto\">\r\n                <DialogHeader>\r\n                  <DialogTitle>รายละเอียดการแจ้งซ่อม</DialogTitle>\r\n                </DialogHeader>\r\n                {selectedTicket && (\r\n                  <TicketDetail\r\n                    ticket={selectedTicket} \r\n                    isAdmin={true}\r\n                    onClose={() => setIsTicketDialogOpen(false)}\r\n                  />\r\n                )}\r\n              </DialogContent>\r\n            </Dialog>\r\n          </TabsContent>\r\n        </Tabs>\r\n      </div>\r\n\r\n      {/* Dialog รายการงานทั้งหมด */}\r\n      <Dialog open={isWorkDialogOpen} onOpenChange={setIsWorkDialogOpen}>\r\n        <DialogContent className=\"max-w-3xl max-h-[80vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>รายการงานยอดนิยมทั้งหมด</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-3 mt-4\">\r\n            {Object.entries(workStats)\r\n              .sort((a, b) => b[1] - a[1])\r\n              .map(([work, count], index) => {\r\n                const maxCount = Math.max(...Object.values(workStats));\r\n                const percentage = maxCount > 0 ? (count / maxCount) * 100 : 0;\r\n                return (\r\n                  <div key={work} className=\"space-y-1\">\r\n                    <div className=\"flex items-center justify-between text-xs\">\r\n                      <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                        <span className=\"font-medium text-muted-foreground shrink-0\">\r\n                          #{index + 1}\r\n                        </span>\r\n                        <span className=\"font-medium truncate\" title={work}>\r\n                          {work}\r\n                        </span>\r\n                      </div>\r\n                      <span className=\"font-bold text-blue-600 ml-2 shrink-0\">\r\n                        {count} ครั้ง\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-6 flex items-center\">\r\n                      <div\r\n                        className=\"bg-gradient-to-r from-blue-500 to-blue-600 h-6 rounded-full flex items-center justify-end px-2 transition-all duration-500\"\r\n                        style={{\r\n                          width: `${percentage}%`,\r\n                          minWidth: count > 0 ? \"40px\" : \"0px\",\r\n                        }}\r\n                      >\r\n                        <span className=\"text-white text-xs font-bold\">\r\n                          {percentage.toFixed(0)}%\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Dialog ผู้แจ้งทั้งหมด */}\r\n      <Dialog open={isUserDialogOpen} onOpenChange={setIsUserDialogOpen}>\r\n        <DialogContent className=\"max-w-3xl max-h-[80vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>ผู้แจ้งบ่อยที่สุดทั้งหมด</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-3 mt-4\">\r\n            {Object.entries(userStats)\r\n              .sort((a, b) => b[1] - a[1])\r\n              .map(([username, count], index) => {\r\n                const maxCount = Math.max(...Object.values(userStats));\r\n                const percentage = maxCount > 0 ? (count / maxCount) * 100 : 0;\r\n                return (\r\n                  <div key={username} className=\"space-y-1\">\r\n                    <div className=\"flex items-center justify-between text-xs\">\r\n                      <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                        <span className=\"font-medium text-muted-foreground shrink-0\">\r\n                          #{index + 1}\r\n                        </span>\r\n                        <span className=\"font-medium truncate\" title={username}>\r\n                          {username}\r\n                        </span>\r\n                      </div>\r\n                      <span className=\"font-bold text-green-600 ml-2 shrink-0\">\r\n                        {count} ครั้ง\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-6 flex items-center\">\r\n                      <div\r\n                        className=\"bg-gradient-to-r from-green-500 to-green-600 h-6 rounded-full flex items-center justify-end px-2 transition-all duration-500\"\r\n                        style={{\r\n                          width: `${percentage}%`,\r\n                          minWidth: count > 0 ? \"40px\" : \"0px\",\r\n                        }}\r\n                      >\r\n                        <span className=\"text-white text-xs font-bold\">\r\n                          {percentage.toFixed(0)}%\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Dialog ค่าใช้จ่ายทั้งหมด */}\r\n      {/* <Dialog open={isCostDialogOpen} onOpenChange={setIsCostDialogOpen}>\r\n        <DialogContent className=\"max-w-[100vw] max-h-[95vh] overflow-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>รายการที่มีค่าใช้จ่าย</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"py-4\">\r\n            <div className=\"mb-4 p-4 bg-amber-50 rounded-lg border border-amber-200\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-sm text-muted-foreground\">ค่าใช้จ่ายรวมทั้งหมด</p>\r\n                  <p className=\"text-2xl font-bold text-amber-600\">\r\n                    ฿{ticketStats.totalCost.toLocaleString('th-TH', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                  </p>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <p className=\"text-sm text-muted-foreground\">จำนวนรายการ</p>\r\n                  <p className=\"text-xl font-bold text-gray-700\">\r\n                    {filterTicketsByDate(tickets).filter((t: Ticket) => t.cost && t.cost.trim() !== '').length} รายการ\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"rounded-md border overflow-x-auto\">\r\n              <Table>\r\n                <TableHeader>\r\n                  <TableRow>\r\n                    <TableHead className=\"w-[80px]\">ลำดับ</TableHead>\r\n                    <TableHead className=\"w-[150px]\">เลขที่คำขอ</TableHead>\r\n                    <TableHead className=\"w-[200px]\">ผู้แจ้ง</TableHead>\r\n                    <TableHead className=\"w-[250px]\">รายการ</TableHead>\r\n                    <TableHead className=\"text-right w-[150px]\">ค่าใช้จ่าย</TableHead>\r\n                    <TableHead className=\"text-right w-[150px]\">วันที่</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {filterTicketsByDate(tickets)\r\n                    .filter((t: Ticket) => t.cost && t.cost.trim() !== '')\r\n                    .sort((a, b) => {\r\n                      const costA = parseFloat(a.cost?.replace(/[,฿]/g, '') || '0')\r\n                      const costB = parseFloat(b.cost?.replace(/[,฿]/g, '') || '0')\r\n                      return costB - costA\r\n                    })\r\n                    .map((ticket, index) => {\r\n                      const costNumber = parseFloat(ticket.cost?.replace(/[,฿]/g, '') || '0')\r\n                      return (\r\n                        <TableRow key={ticket.request_id}>\r\n                          <TableCell className=\"font-medium\">{index + 1}</TableCell>\r\n                          <TableCell className=\"font-mono text-sm\">{ticket.request_id}</TableCell>\r\n                          <TableCell className=\"text-sm\">{ticket.username}</TableCell>\r\n                          <TableCell className=\"text-sm\">\r\n                            {ticket.work || ticket.problem_description || '-'}\r\n                          </TableCell>\r\n                          <TableCell className=\"text-right font-semibold text-amber-600\">\r\n                            ฿{costNumber.toLocaleString('th-TH', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                          </TableCell>\r\n                          <TableCell className=\"text-right text-sm text-muted-foreground\">\r\n                            {new Date(ticket.created_at).toLocaleDateString('th-TH', {\r\n                              year: 'numeric',\r\n                              month: 'short',\r\n                              day: 'numeric'\r\n                            })}\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      )\r\n                    })}\r\n                  {filterTicketsByDate(tickets).filter((t: Ticket) => t.cost && t.cost.trim() !== '').length === 0 && (\r\n                    <TableRow>\r\n                      <TableCell colSpan={6} className=\"text-center text-muted-foreground py-8\">\r\n                        ไม่มีรายการที่มีค่าใช้จ่าย\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog> */}\r\n      <Dialog open={isCostDialogOpen} onOpenChange={setIsCostDialogOpen}>\r\n        <DialogContent\r\n          className=\"\r\n      !w-[72vw]\r\n      !max-w-none\r\n      max-h-[95vh]\r\n      overflow-auto\r\n      p-6\r\n    \"\r\n        >\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-lg font-semibold\">\r\n              รายการที่มีค่าใช้จ่าย\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n\r\n          <div className=\"py-4 space-y-4\">\r\n            {/* Date Filter */}\r\n            <div className=\"flex gap-2 items-center flex-wrap\">\r\n              <Select value={costDialogDateFilter} onValueChange={setCostDialogDateFilter}>\r\n                <SelectTrigger className=\"w-[180px]\">\r\n                  <SelectValue placeholder=\"เลือกช่วงเวลา\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">ทั้งหมด</SelectItem>\r\n                  <SelectItem value=\"today\">วันนี้</SelectItem>\r\n                  <SelectItem value=\"week\">สัปดาห์นี้</SelectItem>\r\n                  <SelectItem value=\"month\">เดือนนี้</SelectItem>\r\n                  <SelectItem value=\"year\">ปีนี้</SelectItem>\r\n                  <SelectItem value=\"custom\">กำหนดเอง</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n\r\n              {costDialogDateFilter === \"custom\" && (\r\n                <>\r\n                  <Input\r\n                    type=\"date\"\r\n                    value={costDialogCustomStartDate}\r\n                    onChange={(e) => setCostDialogCustomStartDate(e.target.value)}\r\n                    className=\"w-[180px]\"\r\n                    placeholder=\"วันที่เริ่มต้น\"\r\n                  />\r\n                  <span className=\"text-muted-foreground\">ถึง</span>\r\n                  <Input\r\n                    type=\"date\"\r\n                    value={costDialogCustomEndDate}\r\n                    onChange={(e) => setCostDialogCustomEndDate(e.target.value)}\r\n                    className=\"w-[180px]\"\r\n                    placeholder=\"วันที่สิ้นสุด\"\r\n                  />\r\n                </>\r\n              )}\r\n            </div>\r\n            {/* Summary */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-1  gap-4\">\r\n              <div className=\"p-4 bg-amber-50 rounded-lg border border-amber-200\">\r\n                <p className=\"text-sm text-muted-foreground mb-1\">\r\n                  ค่าใช้จ่ายรวมทั้งหมด\r\n                </p>\r\n                <p className=\"text-2xl font-bold text-amber-600\">\r\n                  ฿{(() => {\r\n                    const filteredTickets = filterTicketsByDateForDialog(tickets);\r\n                    const total = filteredTickets\r\n                      .filter((t: Ticket) => t.cost && t.cost.trim() !== \"\")\r\n                      .reduce((sum, ticket) => {\r\n                        const cost = parseFloat(ticket.cost?.replace(/[,฿]/g, \"\") || \"0\");\r\n                        return sum + cost;\r\n                      }, 0);\r\n                    return total.toLocaleString(\"th-TH\", {\r\n                      minimumFractionDigits: 2,\r\n                      maximumFractionDigits: 2,\r\n                    });\r\n                  })()}\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">\r\n                  {filterTicketsByDateForDialog(tickets).filter(\r\n                    (t: Ticket) => t.cost && t.cost.trim() !== \"\"\r\n                  ).length}{\" \"}\r\n                  รายการ\r\n                </p>\r\n              </div>\r\n\r\n              {/* <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n                <p className=\"text-sm text-muted-foreground mb-1\">\r\n                  สรุปรายเดือน (ตามช่วงวันที่ที่เลือก)\r\n                </p>\r\n                {(() => {\r\n                  const costByMonth: { [key: string]: number } = {};\r\n                  filterTicketsByDateForDialog(tickets)\r\n                    .filter((t: Ticket) => t.cost && t.cost.trim() !== \"\")\r\n                    .forEach((ticket) => {\r\n                      const date = new Date(ticket.created_at);\r\n                      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\r\n                      const cost = parseFloat(ticket.cost?.replace(/[,฿]/g, \"\") || \"0\");\r\n                      costByMonth[monthKey] = (costByMonth[monthKey] || 0) + cost;\r\n                    });\r\n                  \r\n                  const monthsCount = Object.keys(costByMonth).length;\r\n                  const totalCost = Object.values(costByMonth).reduce((sum, cost) => sum + cost, 0);\r\n                  \r\n                  if (monthsCount === 0) {\r\n                    return <p className=\"text-lg font-bold text-blue-600\">฿0.00</p>;\r\n                  }\r\n                  \r\n                  return (\r\n                    <>\r\n                      <p className=\"text-2xl font-bold text-blue-600\">\r\n                        ฿{totalCost.toLocaleString(\"th-TH\", {\r\n                          minimumFractionDigits: 2,\r\n                          maximumFractionDigits: 2,\r\n                        })}\r\n                      </p>\r\n                      <p className=\"text-xs text-muted-foreground mt-1\">{monthsCount} เดือน</p>\r\n                    </>\r\n                  );\r\n                })()}\r\n              </div> */}\r\n{/* \r\n              <div className=\"p-4 bg-green-50 rounded-lg border border-green-200\">\r\n                <p className=\"text-sm text-muted-foreground mb-1\">\r\n                  สรุปรายปี (ตามช่วงวันที่ที่เลือก)\r\n                </p>\r\n                {(() => {\r\n                  const costByYear: { [key: string]: number } = {};\r\n                  filterTicketsByDateForDialog(tickets)\r\n                    .filter((t: Ticket) => t.cost && t.cost.trim() !== \"\")\r\n                    .forEach((ticket) => {\r\n                      const year = new Date(ticket.created_at).getFullYear().toString();\r\n                      const cost = parseFloat(ticket.cost?.replace(/[,฿]/g, \"\") || \"0\");\r\n                      costByYear[year] = (costByYear[year] || 0) + cost;\r\n                    });\r\n                  \r\n                  const yearsCount = Object.keys(costByYear).length;\r\n                  const totalCost = Object.values(costByYear).reduce((sum, cost) => sum + cost, 0);\r\n                  \r\n                  if (yearsCount === 0) {\r\n                    return <p className=\"text-lg font-bold text-green-600\">฿0.00</p>;\r\n                  }\r\n                  \r\n                  return (\r\n                    <>\r\n                      <p className=\"text-2xl font-bold text-green-600\">\r\n                        ฿{totalCost.toLocaleString(\"th-TH\", {\r\n                          minimumFractionDigits: 2,\r\n                          maximumFractionDigits: 2,\r\n                        })}\r\n                      </p>\r\n                      <p className=\"text-xs text-muted-foreground mt-1\">{yearsCount} ปี</p>\r\n                    </>\r\n                  );\r\n                })()}\r\n              </div> */}\r\n            </div>\r\n\r\n            {/* Table */}\r\n            <div className=\"rounded-md border overflow-x-auto\">\r\n              <Table className=\"min-w-[1200px]\">\r\n                <TableHeader className=\"sticky top-0 bg-white z-10\">\r\n                  <TableRow>\r\n                    <TableHead className=\"w-[80px] whitespace-nowrap\">\r\n                      ลำดับ\r\n                    </TableHead>\r\n                    <TableHead className=\"w-[150px] whitespace-nowrap\">\r\n                      เลขที่คำขอ\r\n                    </TableHead>\r\n                    <TableHead className=\"w-[220px] whitespace-nowrap\">\r\n                      ผู้แจ้ง\r\n                    </TableHead>\r\n                    <TableHead className=\"min-w-[300px]\">รายการ</TableHead>\r\n                    <TableHead className=\"w-[160px] text-right whitespace-nowrap\">\r\n                      ค่าใช้จ่าย\r\n                    </TableHead>\r\n                    <TableHead className=\"w-[160px] text-right whitespace-nowrap\">\r\n                      วันที่\r\n                    </TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n\r\n                <TableBody>\r\n                  {filterTicketsByDateForDialog(tickets)\r\n                    .filter((t: Ticket) => t.cost && t.cost.trim() !== \"\")\r\n                    .sort((a, b) => {\r\n                      const costA = parseFloat(\r\n                        a.cost?.replace(/[,฿]/g, \"\") || \"0\"\r\n                      );\r\n                      const costB = parseFloat(\r\n                        b.cost?.replace(/[,฿]/g, \"\") || \"0\"\r\n                      );\r\n                      return costB - costA;\r\n                    })\r\n                    .map((ticket, index) => {\r\n                      const costNumber = parseFloat(\r\n                        ticket.cost?.replace(/[,฿]/g, \"\") || \"0\"\r\n                      );\r\n\r\n                      return (\r\n                        <TableRow key={ticket.request_id}>\r\n                          <TableCell className=\"font-medium\">\r\n                            {index + 1}\r\n                          </TableCell>\r\n\r\n                          <TableCell className=\"font-mono text-sm\">\r\n                            {ticket.request_id}\r\n                          </TableCell>\r\n\r\n                          <TableCell className=\"text-sm whitespace-nowrap\">\r\n                            {ticket.username}\r\n                          </TableCell>\r\n\r\n                          <TableCell className=\"text-sm\">\r\n                            {ticket.work || ticket.problem_description || \"-\"}\r\n                          </TableCell>\r\n\r\n                          <TableCell className=\"text-right font-semibold text-amber-600\">\r\n                            ฿\r\n                            {costNumber.toLocaleString(\"th-TH\", {\r\n                              minimumFractionDigits: 2,\r\n                              maximumFractionDigits: 2,\r\n                            })}\r\n                          </TableCell>\r\n\r\n                          <TableCell className=\"text-right text-sm text-muted-foreground whitespace-nowrap\">\r\n                            {new Date(ticket.created_at).toLocaleDateString(\r\n                              \"th-TH\",\r\n                              {\r\n                                year: \"numeric\",\r\n                                month: \"short\",\r\n                                day: \"numeric\",\r\n                              }\r\n                            )}\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      );\r\n                    })}\r\n\r\n                  {/* Empty state */}\r\n                  {filterTicketsByDate(tickets).filter(\r\n                    (t: Ticket) => t.cost && t.cost.trim() !== \"\"\r\n                  ).length === 0 && (\r\n                    <TableRow>\r\n                      <TableCell\r\n                        colSpan={6}\r\n                        className=\"text-center text-muted-foreground py-10\"\r\n                      >\r\n                        ไม่มีรายการที่มีค่าใช้จ่าย\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Dialog ทรัพย์สินทั้งหมด */}\r\n      <Dialog open={isAssetDialogOpen} onOpenChange={setIsAssetDialogOpen}>\r\n        <DialogContent className=\"max-w-3xl max-h-[80vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>ทรัพย์สินที่ซ่อมบ่อยที่สุดทั้งหมด</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-3 mt-4\">\r\n            {Object.entries(assetStats)\r\n              .sort((a, b) => b[1] - a[1])\r\n              .map(([assetId, count], index) => {\r\n                const maxCount = Math.max(...Object.values(assetStats));\r\n                const percentage = maxCount > 0 ? (count / maxCount) * 100 : 0;\r\n                return (\r\n                  <div key={assetId} className=\"space-y-1\">\r\n                    <div className=\"flex items-center justify-between text-xs\">\r\n                      <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                        <span className=\"font-medium text-muted-foreground shrink-0\">\r\n                          #{index + 1}\r\n                        </span>\r\n                        <span className=\"font-medium truncate\" title={assetId}>\r\n                          {assetId}\r\n                        </span>\r\n                      </div>\r\n                      <span className=\"font-bold text-orange-600 ml-2 shrink-0\">\r\n                        {count} ครั้ง\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-6 flex items-center\">\r\n                      <div\r\n                        className=\"bg-gradient-to-r from-orange-500 to-orange-600 h-6 rounded-full flex items-center justify-end px-2 transition-all duration-500\"\r\n                        style={{\r\n                          width: `${percentage}%`,\r\n                          minWidth: count > 0 ? \"40px\" : \"0px\",\r\n                        }}\r\n                      >\r\n                        <span className=\"text-white text-xs font-bold\">\r\n                          {percentage.toFixed(0)}%\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Dialog แสดงรายละเอียดทรัพย์สินตามประเภท */}\r\n      <Dialog open={isCategoryDialogOpen} onOpenChange={setIsCategoryDialogOpen}>\r\n        <DialogContent className=\"!max-w-4xl max-h-[80vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <Package className=\"h-5 w-5 text-purple-500\" />\r\n              รายละเอียดทรัพย์สิน - {selectedCategory || \"ไม่ระบุประเภท\"}\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 mt-4\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <Card>\r\n                <CardHeader className=\"pb-3\">\r\n                  <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n                    ทรัพย์สินทั้งหมด\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"text-3xl font-bold text-purple-600\">\r\n                    {categoryAssets.length}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground mt-1\">รายการ</p>\r\n                </CardContent>\r\n              </Card>\r\n              <Card>\r\n                <CardHeader className=\"pb-3\">\r\n                  <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n                    สาขาที่มีทรัพย์สินนี้\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"text-3xl font-bold text-blue-600\">\r\n                    {new Set(categoryAssets.map(a => a.site).filter(Boolean)).size}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground mt-1\">สาขา</p>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>รายการทรัพย์สิน</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"overflow-x-auto\">\r\n                  <Table>\r\n                    <TableHeader>\r\n                      <TableRow>\r\n                        <TableHead className=\"w-[80px]\">ลำดับ</TableHead>\r\n                        <TableHead>รหัสทรัพย์สิน</TableHead>\r\n                        <TableHead>ชื่ออุปกรณ์</TableHead>\r\n                        <TableHead>สาขา</TableHead>\r\n                        <TableHead>แผนก</TableHead>\r\n                        <TableHead>ผู้ใช้งาน</TableHead>\r\n                      </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                      {categoryAssets.length > 0 ? (\r\n                        categoryAssets.map((asset, index) => (\r\n                          <TableRow key={asset.asset_code || index}>\r\n                            <TableCell className=\"font-medium\">{index + 1}</TableCell>\r\n                            <TableCell className=\"font-mono text-sm\">{asset.asset_code || '-'}</TableCell>\r\n                            <TableCell className=\"text-sm\">{asset.device_name || '-'}</TableCell>\r\n                            <TableCell className=\"text-sm\">{asset.site || '-'}</TableCell>\r\n                            <TableCell className=\"text-sm\">{asset.department || '-'}</TableCell>\r\n                            <TableCell className=\"text-sm\">{asset.user_name || '-'}</TableCell>\r\n                          </TableRow>\r\n                        ))\r\n                      ) : (\r\n                        <TableRow>\r\n                          <TableCell colSpan={6} className=\"text-center text-muted-foreground py-8\">\r\n                            ไม่มีข้อมูลทรัพย์สิน\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      )}\r\n                    </TableBody>\r\n                  </Table>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Dialog แสดงรายละเอียดทรัพย์สินของสาขา */}\r\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n        <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <Building2 className=\"h-5 w-5 text-blue-500\" />\r\n              รายละเอียดทรัพย์สิน - {selectedSite}\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 mt-4\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <Card>\r\n                <CardHeader className=\"pb-3\">\r\n                  <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n                    ทรัพย์สินทั้งหมด\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"text-3xl font-bold text-blue-600\">\r\n                    {selectedSite ? siteStats[selectedSite] : 0}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground mt-1\">รายการ</p>\r\n                </CardContent>\r\n              </Card>\r\n              <Card>\r\n                <CardHeader className=\"pb-3\">\r\n                  <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n                    ประเภททรัพย์สิน\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"text-3xl font-bold text-purple-600\">\r\n                    {Object.keys(siteDetailStats).length}\r\n                  </div>\r\n                  <p className=\"text-xs text-muted-foreground mt-1\">ประเภท</p>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>แยกตามประเภททรัพย์สิน</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-4\">\r\n                  {Object.entries(siteDetailStats)\r\n                    .sort((a, b) => b[1] - a[1])\r\n                    .map(([category, count]) => {\r\n                      const total = Object.values(siteDetailStats).reduce(\r\n                        (a, b) => a + b,\r\n                        0\r\n                      );\r\n                      const percentage = total > 0 ? (count / total) * 100 : 0;\r\n                      return (\r\n                        <div key={category} className=\"space-y-2\">\r\n                          <div className=\"flex items-center justify-between text-sm\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <Package className=\"h-4 w-4 text-purple-500\" />\r\n                              <span className=\"font-medium\">\r\n                                {category || \"ไม่ระบุประเภท\"}\r\n                              </span>\r\n                              <span className=\"text-muted-foreground\">\r\n                                ({count} รายการ)\r\n                              </span>\r\n                            </div>\r\n                            <span className=\"font-medium\">\r\n                              {percentage.toFixed(1)}%\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                            <div\r\n                              className=\"bg-gradient-to-r from-purple-500 to-blue-500 h-2.5 rounded-full transition-all\"\r\n                              style={{ width: `${percentage}%` }}\r\n                            ></div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  {Object.keys(siteDetailStats).length === 0 && (\r\n                    <div className=\"text-center text-muted-foreground py-8\">\r\n                      ไม่มีข้อมูลประเภททรัพย์สิน\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}